(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-signIn-signIn"],{"0492":function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"c",(function(){return o})),t.d(a,"a",(function(){return n}));var n={navBar:t("b560").default},r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-uni-view",{staticClass:"container"},[t("nav-bar",{attrs:{title:"登录"}}),t("v-uni-view",{staticClass:"bigImage"},[t("v-uni-image",{attrs:{src:e.logo,mode:"aspectFit"}})],1),e.referCode?t("v-uni-view",{staticClass:"referCode"},[t("v-uni-text",{staticClass:"codeText"},[e._v("内邀码")]),"qishang"!==e.bank_mark?t("v-uni-text",[e._v(e._s(e.referCode))]):t("v-uni-text",[e._v(e._s(e._f("formatReferCode")(e.referCode)))])],1):e._e(),t("v-uni-view",{staticClass:"majority"},[t("v-uni-button",{staticClass:"myMobile",attrs:{type:"primary","open-type":"getPhoneNumber",loading:e.loading,disabled:e.loading},on:{getphonenumber:function(a){arguments[0]=a=e.$handleEvent(a),e.getPhoneNumber.apply(void 0,arguments)}}},[e._v("微信授权登录")]),t("v-uni-view",{staticClass:"otherMobile",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.onOtherLogin.apply(void 0,arguments)}}},[e._v("使用其它手机号")])],1)],1)},o=[]},"0b47":function(e,a,t){"use strict";t.r(a);var n=t("0492"),r=t("8070");for(var o in r)"default"!==o&&function(e){t.d(a,e,(function(){return r[e]}))}(o);t("3800");var i,c=t("f0c5"),s=Object(c["a"])(r["default"],n["b"],n["c"],!1,null,"085635c0",null,!1,n["a"],i);a["default"]=s.exports},"0bc2":function(e,a,t){var n=t("149f");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=t("4f06").default;r("54386aa3",n,!0,{sourceMap:!1,shadowMode:!1})},"149f":function(e,a,t){var n=t("24fb");a=n(!1),a.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.container[data-v-085635c0]{background-color:#fff\r\n  /*  中部图片   */\r\n  /*  底部 手机登录 主要内容  */}.container .referCode[data-v-085635c0]{top:%?232?%;width:%?248?%;height:%?68?%;line-height:%?68?%;background-color:#f5f6f8;border-radius:%?8?%;text-align:center;color:#727273;font-size:%?32?%;font-weight:400;position:fixed;right:0}.container .bigImage[data-v-085635c0]{\r\n  /* margin-left: 46upx; */margin-top:%?300?%;height:%?66?%;text-align:center}.container .majority[data-v-085635c0]{margin-top:%?156?%;margin-left:%?46?%}.container .myMobile[data-v-085635c0]{width:%?658?%;border-radius:%?46?%;margin:0;margin-bottom:%?64?%;background:#1aad19}.container .otherMobile[data-v-085635c0]{width:%?658?%;font-size:%?28?%;text-align:center}',""]),e.exports=a},"330a":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.faceTimeTrack=a.replenish=a.activeDetailPages=a.pageObj=a.repayOverdueDetails=a.repaymentDetails=a.identityAuthentication=a.loadingStatic=a.faceFlags=a.queryValidMobile=a.querySubmitSuccess=a.queryWebview=a.querySignInCheck=void 0;var n={mobileNo:"mobileNo",appCertNo:"appCertNo",appCode:"appCode"};a.querySignInCheck=n;var r={src:"src",title:"title"};a.queryWebview=r;var o={pageType:{types:{email:"email",download:"download"},typeName:"pageType"},emailAddress:"emailAddress"};a.querySubmitSuccess=o;var i={query:{type:"type",fromType:"fromType",mtype:"mtype",clearDataType:"clearDataType"},clearDataType:{reChangeMobile:"reChangeMobile",back:"back"},type:{changeMobile:"changeMobile",resetTradePwd:"resetTradePwd"},fromTypeValue:{transfer:"transfer",forget1:"forget1",forget:"forget",collect:"collect",payForPwd:"payForPwd",cancelPhone:"cancelPhone",changeFail:"changeFail"}};a.queryValidMobile=i;var c={fromType:"fromType",fromTypeValue:{credit:"credit",loan:"loan",bindCard:"bindCard",changeMobile:"changeMobile",resetTradePassword:"resetTradePassword",ocr:"ocr",unbindCard:"unbindCard",login:"login"},pageFlagsName:"pageFlagsName",pageFlags:{credit:"credit",faceUploadLoading:"faceUploadLoading"},errorMsgFlags:{ocr:"ocr",three:"three"}};a.faceFlags=c;var s={pageFlags:"pageFlags",name:{otherSignIn:"otherSignIn",signIn:"signIn"}};a.pageObj=s;var g={face_time_h5:"face_time_h5"};a.faceTimeTrack=g;var l={urlName:"urlName",urlNameValue:{index:"index",my:"my"}};a.identityAuthentication=l;var u={process:"process",finish:"finish",fail:"fail",credit_fail:"credit_fail",location_get_fail:"location_get_fail",network_timeout:"network_timeout",identity_info_fail:"identity_info_fail",creditFailThree:"creditFailThree",creditNotFit:"creditNotFit",creditFail:"creditFail"};a.loadingStatic=u;var d={isOverdue:"isOverdue",repaymentDate:"repaymentDate"};a.repaymentDetails=d;var p={loanId:"loanId",TABINDEX:"TABINDEX",loanAmount:"loanAmount",loanDate:"loanDate"};a.repayOverdueDetails=p;var _={fromFlags:"fromFlags",fromValue:{replenishOldUser:"replenishOldUser",replenishNewUser:"replenishNewUser"}};a.replenish=_;var m={bannerIndex:"bannerIndex"};a.activeDetailPages=m},3800:function(e,a,t){"use strict";var n=t("0bc2"),r=t.n(n);r.a},8070:function(e,a,t){"use strict";t.r(a);var n=t("a90d"),r=t.n(n);for(var o in n)"default"!==o&&function(e){t.d(a,e,(function(){return n[e]}))}(o);a["default"]=r.a},8865:function(e,a,t){"use strict";var n=t("8e55"),r="".concat(n.PICTURE_URL,"close.png"),o=("".concat(n.PICTURE_URL,"close_loan.png"),"../../static/img/home/"),i="".concat(o,"home_gl_bg.png"),c="".concat(o,"home_icon_gl.png"),s="".concat(o,"home_icon_gg.png"),g="".concat(o,"home_icon_sbyy.png"),l="".concat(o,"home_img_fpxz.png"),u="".concat(o,"home_img_jkgl.png"),d="".concat(o,"home_img_xhed.png"),p="".concat(o,"home_shsb_icon_sbyy.png"),_="".concat(o,"home_tc_top_fxts.png"),m="".concat(o,"home_top_img_shsb.png"),f="".concat(o,"home_top_img_shz.png"),h="".concat(o,"home_img_hkgl.png"),b="".concat(o,"home_yyq.png"),k="".concat(o,"hk_about.png"),y="".concat(o,"jqqd_img_wkf.png"),v="".concat(o,"jml_tc_btn.png"),w="".concat(o,"jml_tc_img.png"),j="".concat(o,"tc_close.png"),I="".concat(o,"gjj_icon_dwmc.png"),C="".concat(o,"gjj_icon_sbjcs.png"),T="".concat(o,"jg_img_spz.png"),x="".concat(o,"process.png"),D="".concat(o,"fail.png"),N="".concat(o,"bd_icon_dz.png"),P="".concat(o,"bdyhk_icon_yz.png"),R="".concat(o,"card_camera.png"),S="".concat(n.PICTURE_URL,"backspace.png"),U="".concat(n.PICTURE_URL,"right-arrow.png"),F="".concat(n.PICTURE_URL,"bottom-arrow.png"),M="".concat(n.PICTURE_URL,"search.png"),L="".concat(n.PICTURE_URL,"select.png"),A=("".concat(n.PICTURE_URL,"wxz@2x.png"),"../../static/img/other/"),O="".concat(A,"jkgl_top_bg.png"),q="".concat(A,"jkgl_top_img_jb.png"),z="".concat(A,"loan_01.png"),$="".concat(A,"loan_02.png"),E="".concat(A,"jkgl_icon_sfrz.png"),K="".concat(A,"jkgl_icon_rlsb.png"),V="".concat(A,"jkgl_icon_fksh.png"),B="".concat(A,"jkgl_icon_jksq.png"),H="".concat(A,"jkgl_icon_jkdz.png"),W="".concat(A,"hkgl_top_bg.png"),G="".concat(A,"top_img_pig.png"),J="".concat(A,"wyjk_fs2_img01.png"),X="".concat(A,"hkgl_bz_icon_q.png"),Q="".concat(A,"wyjk_fs1_img02.png"),Y="".concat(A,"wyjk_fs1_img03.png"),Z="".concat(A,"wyjk_fs1_img04.png"),ee="../../static/img/tempimg/",ae="".concat(n.PICTURE_URL,"process.png"),te="".concat(n.PICTURE_URL,"fail.png"),ne={login_top_right:"".concat(ee,"login_top_right.png"),clear_icon:"".concat(ee,"clear_icon.png")},re="../../static/img/none/",oe="".concat(re,"tc_icon_mkf@2x.png");e.exports={fail:D,search:M,loan_01:z,loan_02:$,process:x,tc_close:j,home_yyq:b,hk_about:k,backspace:S,top_img_pig:G,rightArrow:U,bd_icon_dz:N,result_fail:te,jg_img_spz:T,jml_tc_btn:v,jml_tc_img:w,home_gl_bg:i,jkgl_top_bg:O,hkgl_top_bg:W,card_camera:R,bottomArrow:F,mycd_select:L,record_auth:oe,jqqd_img_wkf:y,home_icon_gl:c,home_icon_gg:s,hkgl_bz_icon_q:X,bdyhk_icon_yz:P,gjj_icon_dwmc:I,home_img_hkgl:h,home_img_fpxz:l,home_img_jkgl:u,home_img_xhed:d,wyjk_fs2_img01:J,wyjk_fs1_img02:Q,wyjk_fs1_img03:Y,result_process:ae,wyjk_fs1_img04:Z,jkgl_icon_sfrz:E,jkgl_icon_jksq:B,jkgl_icon_jkdz:H,jkgl_icon_rlsb:K,jkgl_icon_fksh:V,gjj_icon_sbjcs:C,home_icon_sbyy:g,jkgl_top_img_jb:q,home_top_img_shz:f,home_tc_top_fxts:_,home_top_img_shsb:m,home_shsb_icon_sbyy:p,img_signInCheck:ne,close:r}},a90d:function(e,a,t){"use strict";(function(e){var n=t("4ea4");t("d3b7"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t("ade3"));t("96cf");var o=n(t("1da1")),i=n(t("5530")),c=t("26cb"),s=(t("8865"),n(t("0a34"))),g=(t("8e55"),n(t("8e55"))),l=t("677a"),u=t("330a"),d=(0,c.createNamespacedHelpers)("signIn"),p=d.mapState,_=d.mapMutations,m=d.mapActions,f=(0,c.createNamespacedHelpers)("register"),h=(0,c.createNamespacedHelpers)("home"),b={data:function(){return{openid:"",session_key:"",mobile:"",bank_mark:g.default.BANK_MP,trackKey:{},codes:"",loading:!1}},computed:(0,i.default)((0,i.default)((0,i.default)({},h.mapState(["referCode","configData","referInfoObj","productType"])),p(["data","signInData"])),{},{logo:function(){return this.configData.authLogo},pageTrackData:function(){return{page_id:this.$trackParams.pageInfo.login.pageId,page_name:this.$trackParams.pageInfo.login.name,event_code:this.$trackParams.eventCode.sbtLogin,resource_type:this.$trackParams.resourceType.submit,resource_value:this.$trackParams.resourceValue.sbtLogin,eventType:this.$trackParams.eventType.login,login_pwd_incode:"",login_pwd_intime:"",login_method:"1",referCode:this.referCode}}}),onShow:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.trackKey=e.$trackParams.login.oneclick_login_use_otherphone,e.$track.setData((0,r.default)({},e.trackKey.name,e.trackKey.unClick)),e.clearLoginData(),a.next=5,e.wxLogin();case 5:t=a.sent,e.codes=t,e.signInData.authType&&e.updateSignInData({authType:"",pwdCode:""});case 8:case"end":return a.stop()}}),a)})))()},methods:(0,i.default)((0,i.default)((0,i.default)((0,i.default)({},_(["updateSignInData","clearLoginData"])),f.mapMutations(["updateRegisterData"])),m(["getWxMobileNo","checkMobile","doSignIn"])),{},{getPhoneNumber:function(e){var a=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var n,o,i,c,g,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(uni.removeStorageSync("mobileNum_not_login"),n=e.detail,o=n.encryptedData,i=n.iv,o&&i){t.next=4;break}return t.abrupt("return");case 4:return a.code&&(uni.showLoading({title:"登录中",mask:!0}),setTimeout((function(){uni.hideLoading()}),2e3)),t.next=7,a.getWxMobileNo({jsCode:a.codes,encryptedData:o,encryptedIv:i});case 7:if(c=t.sent,!(c&&c.data&&c.data.mobileNo)){t.next=15;break}return a.mobile=c.data.mobileNo,t.next=12,a.checkMobileNumber(a.mobile);case 12:g=t.sent,l=a.$trackParams.login.mobile_isrigister,g&&g.data&&("1"===g.data.regFlag?(a.$track.setData((0,r.default)({},l.name,l.rigister)),a.updateSignInData({mobileNumber:a.mobile,wxAuthCode:c.data.wxAuthCode}),a.checkSignIn()):"0"===g.data.regFlag&&(a.$track.setData((0,r.default)({},l.name,l.unRigister)),a.updateRegisterData({mobileNumber:a.mobile,wxAuthCode:c.data.wxAuthCode}),s.default.navigateTo("otherRegister",{subcontract:!0,from:"signIn"})));case 15:case"end":return t.stop()}}),t)})))()},checkMobileNumber:function(e){var a=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.checkMobile({mobileNo:e});case 2:if(n=t.sent,!n||"1000"!==n.code){t.next=5;break}return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},checkSignIn:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var t,n,o,c,g,l,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s.default.locationCheck();case 2:if(t=a.sent,t){a.next=5;break}return a.abrupt("return",!1);case 5:return n=e.getParams(),o=e.getTrackData(),e.loading=!0,a.next=10,e.doSignIn((0,i.default)({trackData:o},n));case 10:if(c=a.sent,!c||"1000"!==c.code){a.next=35;break}if(!c.data.authType){a.next=30;break}"2"===(null===c||void 0===c||null===(g=c.data)||void 0===g?void 0:g.authType)&&(uni.setStorageSync("mobileNum_not_login",e.mobile),e.saveLoginData((0,i.default)({trackData:o},n))),d=c.data.authType,p="",a.t0=d,a.next="1"===a.t0?19:"2"===a.t0?21:"3"===a.t0?23:"5"===a.t0?25:27;break;case 19:return p="verifySms",a.abrupt("break",27);case 21:return p="faceRecordStart",a.abrupt("break",27);case 23:return p="identity",a.abrupt("break",27);case 25:return p="graphicVerify",a.abrupt("break",27);case 27:s.default.navigateTo(p,(l={type:"login"},(0,r.default)(l,u.faceFlags.fromType,u.faceFlags.fromTypeValue.login),(0,r.default)(l,u.pageObj.pageFlags,u.pageObj.name.signIn),(0,r.default)(l,"subcontract",!0),l)),a.next=33;break;case 30:e.$track.updateGlobalData({mobile:e.data.mobile,userId:e.data.userId?e.data.userId:"",uuid:e.data.userId?e.data.userId:""}),s.default.toast("登录成功","none",!0),setTimeout((function(){uni.switchTab({url:"/pages/index/index"})}),1500);case 33:a.next=36;break;case 35:c&&"3008"===c.code&&s.default.alert({content:c.message});case 36:e.loading=!1;case 37:case"end":return a.stop()}}),a)})))()},saveLoginData:function(e){var a=e;a.authType="2",uni.setStorage({key:"loginData",data:(0,i.default)({},a)})},getParams:function(){var a=uni.getStorageSync("sourceCode")||"";e.log("sourceCode",a);var t={};a&&(this.$track.setData({source_code:a}),t.sourceCode=a),this.referInfoObj.referCode&&(this.$track.setData({referCode:this.referInfoObj.referCode}),t.referCode=this.referInfoObj.referCode,t.referName=this.referInfoObj.referName||"");var n=uni.getStorageSync(l.scene.sceneFlagKey);if(n===l.scene.value.HSH_GO_MINI){var r=uni.getStorageSync(l.scene.sceneDataKey);t.sourceCode=r.sourceCode,t.actUserId=r.actUserId,t.actId=r.actId}return this.productType&&(t.productType=this.productType),t},onOtherLogin:function(){this.$track.setData((0,r.default)({},this.trackKey.name,this.trackKey.click)),s.default.navigateTo(this.PAGE_NAMES.signInCheck.path,{subcontract:!0,from:"signIn"})},wxLogin:function(){return new Promise((function(a,t){uni.login({success:function(t){e.log("weixinlogin",t),t.code?a(t.code):s.default.toast("登录失败")}})}))}})};a.default=b}).call(this,t("5a52")["default"])}}]);