(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-validMobile-validMobile"],{"31d2":function(e,a,t){"use strict";var n=t("f203"),i=t.n(n);i.a},"330a":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.faceTimeTrack=a.replenish=a.activeDetailPages=a.pageObj=a.repayOverdueDetails=a.repaymentDetails=a.identityAuthentication=a.loadingStatic=a.faceFlags=a.queryValidMobile=a.querySubmitSuccess=a.queryWebview=a.querySignInCheck=void 0;var n={mobileNo:"mobileNo",appCertNo:"appCertNo",appCode:"appCode"};a.querySignInCheck=n;var i={src:"src",title:"title"};a.queryWebview=i;var r={pageType:{types:{email:"email",download:"download"},typeName:"pageType"},emailAddress:"emailAddress"};a.querySubmitSuccess=r;var o={query:{type:"type",fromType:"fromType",mtype:"mtype",clearDataType:"clearDataType"},clearDataType:{reChangeMobile:"reChangeMobile",back:"back"},type:{changeMobile:"changeMobile",resetTradePwd:"resetTradePwd"},fromTypeValue:{transfer:"transfer",forget1:"forget1",forget:"forget",collect:"collect",payForPwd:"payForPwd",cancelPhone:"cancelPhone",changeFail:"changeFail"}};a.queryValidMobile=o;var s={fromType:"fromType",fromTypeValue:{credit:"credit",loan:"loan",bindCard:"bindCard",changeMobile:"changeMobile",resetTradePassword:"resetTradePassword",ocr:"ocr",unbindCard:"unbindCard",login:"login"},pageFlagsName:"pageFlagsName",pageFlags:{credit:"credit",faceUploadLoading:"faceUploadLoading"},errorMsgFlags:{ocr:"ocr",three:"three"}};a.faceFlags=s;var l={pageFlags:"pageFlags",name:{otherSignIn:"otherSignIn",signIn:"signIn"}};a.pageObj=l;var u={face_time_h5:"face_time_h5"};a.faceTimeTrack=u;var c={urlName:"urlName",urlNameValue:{index:"index",my:"my"}};a.identityAuthentication=c;var d={process:"process",finish:"finish",fail:"fail",credit_fail:"credit_fail",location_get_fail:"location_get_fail",network_timeout:"network_timeout",identity_info_fail:"identity_info_fail",creditFailThree:"creditFailThree",creditNotFit:"creditNotFit",creditFail:"creditFail"};a.loadingStatic=d;var p={isOverdue:"isOverdue",repaymentDate:"repaymentDate"};a.repaymentDetails=p;var f={loanId:"loanId",TABINDEX:"TABINDEX",loanAmount:"loanAmount",loanDate:"loanDate"};a.repayOverdueDetails=f;var m={fromFlags:"fromFlags",fromValue:{replenishOldUser:"replenishOldUser",replenishNewUser:"replenishNewUser"}};a.replenish=m;var g={bannerIndex:"bannerIndex"};a.activeDetailPages=g},4353:function(e,a,t){"use strict";var n=t("5e0a"),i=t.n(n);i.a},"4d83":function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){return n}));var n={navBar:t("b560").default,verifyCodeInput:t("6594").default,smsPopup:t("fe89").default},i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-uni-view",{staticClass:"container"},[t("nav-bar",{attrs:{title:e.title,customLeftEvent:!0},on:{clickLeft:function(a){arguments[0]=a=e.$handleEvent(a),e.handlePageBack.apply(void 0,arguments)}}}),e.pageLoaded?["changeMobile"===e.type?t("v-uni-view",[t("v-uni-view",{staticClass:"form-box"},[t("v-uni-view",{staticClass:"form-control  lr"},[t("v-uni-view",{staticClass:"form-item"},[t("v-uni-view",{staticClass:"label"},[e._v("新手机号码")]),t("v-uni-view",{staticClass:"value"},[t("v-uni-view",{staticClass:"flex-box align-center justify-end"},[t("v-uni-input",{attrs:{type:"number",maxlength:"11",placeholder:"请输入新手机号码",value:e.verifyData.newMobile,"placeholder-class":"input-placeholder"},on:{input:function(a){arguments[0]=a=e.$handleEvent(a),e.onInputChange(a,"mobile")}}})],1)],1)],1),t("verify-code-input",{ref:"verifyCodeInput",attrs:{id:"verifyCodeInput",verifyType:e.verifyType,mobile:e.verifyData.newMobile,pageId:e.pageId,pageName:e.pageName,externalClasses:"no-border"},on:{send:function(a){arguments[0]=a=e.$handleEvent(a),e.onVerifySend.apply(void 0,arguments)},change:function(a){arguments[0]=a=e.$handleEvent(a),e.onInputChange(a,"verifyCode")},sendSms:function(a){arguments[0]=a=e.$handleEvent(a),e.sendSms.apply(void 0,arguments)}}})],1)],1),t("v-uni-view",{staticClass:"button-container page-space"},[t("v-uni-button",{staticClass:"button block-button",class:[e.submit?"button-can":""],attrs:{"hover-class":"button-hover",disabled:!e.submit},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.onSubmit.apply(void 0,arguments)}}},[e._v("确定")])],1)],1):t("v-uni-view",["showCardNumber"===e.type?t("v-uni-view",{staticClass:"page-top-area",staticStyle:{height:"auto","line-height":"24upx","min-height":"100upx",padding:"40upx 0"}},[t("v-uni-text",{staticClass:"fs-32 color-black-3"},[e._v("进行身份验证\\n 系统将会向您尾号"+e._s(e._f("getLast4Num")(e.mobile))+"的手机号码发送验证码")])],1):"resetTradePwd"===e.type||"changeMobileCheck"===e.type?t("v-uni-view",{staticClass:"page-top-area"},["showCardNumber"===e.type?t("v-uni-text",{staticClass:"fs-32 color-black-3"},[e._v("进行身份验证\\n\\r 系统将会向您尾号"+e._s(e._f("getLast4Num")(e.mobile))+"的手机号码发送验证码")]):t("v-uni-view",{staticClass:"flex_box"},[t("v-uni-text",{staticClass:"fs-32 color-black-3"},[e._v("发送短信验证码至")]),t("v-uni-text",{staticClass:"fs-40 color-black-3"},[e._v(e._s(e._f("confusePhoneNumber")(e.mobile)))])],1)],1):e._e(),t("v-uni-view",{staticClass:"form-control lr"},[t("verify-code-input",{ref:"verifyCodeInput",attrs:{"data-type":"verifyCode","input-class":"no-border",verifyType:e.verifyType,pageId:e.pageId,pageName:e.pageName,mobile:e.mobile,externalClasses:"justify-start"},on:{send:function(a){arguments[0]=a=e.$handleEvent(a),e.onVerifySend.apply(void 0,arguments)},change:function(a){arguments[0]=a=e.$handleEvent(a),e.onInputChange(a,"verifyCode")},sendSms:function(a){arguments[0]=a=e.$handleEvent(a),e.sendSms.apply(void 0,arguments)}}})],1),t("v-uni-view",{staticClass:"button-container page-space"},[t("v-uni-button",{staticClass:"button block-button",class:[e.submitEnabled?"button-can":""],attrs:{loading:e.loading,"hover-class":"button-hover",disabled:!e.submitEnabled},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.onSubmitOther.apply(void 0,arguments)}}},[e._v("下一步")])],1)],1)]:e._e(),t("sms-popup",{attrs:{propsZindex:998,phoneNumber:e.verifyData.newMobile||e.verifyData.mobile,showSmsImagePop:e.smsImage},on:{successSms:function(a){arguments[0]=a=e.$handleEvent(a),e.successSms.apply(void 0,arguments)}}})],2)},r=[]},5045:function(e,a,t){"use strict";t.r(a);var n=t("4d83"),i=t("b7f3");for(var r in i)"default"!==r&&function(e){t.d(a,e,(function(){return i[e]}))}(r);t("4353");var o,s=t("f0c5"),l=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"1f8c5265",null,!1,n["a"],o);a["default"]=l.exports},"5e0a":function(e,a,t){var n=t("91f5");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=t("4f06").default;i("17cec67c",n,!0,{sourceMap:!1,shadowMode:!1})},"61c7":function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){return n}));var n={uniPopup:t("65a9").default},i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("uni-popup",{ref:"popupSms",attrs:{"mask-click":!1,propsZindex:e.propsZindex}},[t("v-uni-view",{staticClass:"sms-popup-comp"},[t("v-uni-image",{staticClass:"trade-cancle",attrs:{src:e.PICTURE_URL+"close_loan.png"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.closePop.apply(void 0,arguments)}}}),t("v-uni-view",{staticClass:"fs-32 color-black-3",staticStyle:{"text-align":"center","margin-top":"48rpx","margin-bottom":"40rpx"}},[e._v("请输入图形验证码")]),t("v-uni-view",{staticClass:"sms-content"},[t("v-uni-input",{attrs:{type:"text",placeholder:"请输入","placeholder-style":"color:#B2B2B2;"},model:{value:e.smsImageInput,callback:function(a){e.smsImageInput=a},expression:"smsImageInput"}}),e.showImageCode?t("v-uni-image",{attrs:{src:"data:image/png;base64,"+e.showImageCode}}):e._e()],1),t("v-uni-view",{staticClass:"sms-text fs-32",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.submitSmsImage.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)},r=[]},"91f5":function(e,a,t){var n=t("24fb");a=n(!1),a.push([e.i,".form-box[data-v-1f8c5265]{background-color:#fff}.button-container[data-v-1f8c5265]{margin-top:%?134?%}.sms-code[data-v-1f8c5265]{margin-top:%?40?%}",""]),e.exports=a},a8fc:function(e,a,t){"use strict";t.r(a);var n=t("f81f"),i=t.n(n);for(var r in n)"default"!==r&&function(e){t.d(a,e,(function(){return n[e]}))}(r);a["default"]=i.a},b648:function(e,a,t){"use strict";(function(e){var n=t("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t("ade3"));t("96cf");var r,o=n(t("1da1")),s=n(t("5530")),l=t("26cb"),u=n(t("0a34")),c=(n(t("eed6")),t("4d46")),d=(t("d4d1"),t("330a")),p=(0,l.createNamespacedHelpers)("user"),f=(0,l.createNamespacedHelpers)("signIn"),m=(0,l.createNamespacedHelpers)("verify"),g=(0,l.createNamespacedHelpers)("password"),h=((0,l.createNamespacedHelpers)("factor"),{checkMobile:"验证手机号",changeMobile:"更换手机号",changeMobileCheck:"原手机号验证",resetTradePwd:"短信验证"}),y={idCard:"VERIFY_IDENTIFY",resetBuyPassword:"VERIFY_BUY_PASSWORD",changeMobile:6,changeMobileCheck:6,resetTradePwd:5},v={resetTradePwd:{pageId:"tran_pwd_change",pageName:"修改交易密码"},changeMobile:{pageId:"mobil_new_change",pageName:"新手机号验证"},changeMobileCheck:{pageId:"mobil_canSMS_change",pageName:"原手机号能接收验证码"}},b=null,w={data:function(){return{type:"",fromType:"",loading:!1,pageLoaded:!1,action:"",title:"",pageId:"",pageName:"",hideTempDate:!1,isSendVerify:!1,smsImage:!1}},computed:(0,s.default)((0,s.default)((0,s.default)({},f.mapState({userData:"data"})),m.mapState(["verifyData"])),{},{mobile:function(){return this.verifyData.mobile},verifyType:function(){return this.type===d.queryValidMobile.type.changeMobile?y[this.type]:this.verifyData.type},submitEnabled:function(){var e=this.verifyData;return!this.loading&&e.mobile&&11===e.mobile.length&&e.value&&e.trigger},submit:function(){var e=this.verifyData;if("changeMobile"===this.type)return!this.loading&&e.newMobile&&11===e.newMobile.length&&e.newValue&&e.trigger},pageTrackData:function(){return{page_id:this.pageId,page_name:this.pageName}},homeData:function(){return this.$store.getters.homeData()},isTencentFace:function(){if("{}"!==JSON.stringify(this.homeData))return!(!this.homeData||!this.homeData.biopsyType)&&"3"===this.homeData.biopsyType}}),onLoad:function(a){this.phoneInfo(),e.log("validMobile",a),this.type=a[d.queryValidMobile.query.type]||"changeMobile",this.fromType=a[d.queryValidMobile.query.fromType]||"changeMobile",this.mtype=a[d.queryValidMobile.query.mtype]||"",r=a.pageFlags;var t=a[d.queryValidMobile.query.clearDataType]||"";this.manageVerifyData(t),this.pageId=v[this.type].pageId,this.pageName=v[this.type].pageName,this.title=h[this.type],this.pageLoaded=!0,this.type===d.queryValidMobile.type.changeMobile?this.updateVerifyData({mobile:this.userData.mobile,newMobile:""}):this.updateVerifyData({mobile:this.userData.mobile,type:y[this.type]})},onShow:function(){var e=this,a=this,t={};uni.getStorage({key:"userInfo",success:function(e){t=e.data,a.$track.setData({mobile:t.mobile})}}),!b&&this.hideTempDate&&this.isSendVerify&&this.$nextTick((function(){e.$refs.verifyCodeInput.timeOnShow()}))},onHide:function(){!b&&this.isSendVerify&&(this.$refs.verifyCodeInput.timeOnHide(),this.hideTempDate=!0)},onUnload:function(){"changeMobile"!==this.type&&this.clearVerifyData()},methods:(0,s.default)((0,s.default)((0,s.default)((0,s.default)((0,s.default)({},m.mapMutations(["clearVerifyData","updateVerifyData","updateSentinelFlag"])),m.mapActions(["checkVerifyCode","changeMobileSubmit"])),g.mapMutations(["updatePassword"])),p.mapActions(["testMobileReg"])),{},{sendSms:function(e){var a=this;"5"==(null===e||void 0===e?void 0:e.authType)&&setTimeout((function(){a.$refs.verifyCodeInput.onBlur(),a.smsImage=!0,a.$refs.verifyCodeInput.clearTimer(),a.$refs.verifyCodeInput.codeLoading=!1}),2e3),this.updateSentinelFlag("")},successSms:function(e){var a=this;setTimeout((function(){a.smsImage=!1}),200),e&&(this.updateSentinelFlag((0,s.default)({},e)),this.$refs.verifyCodeInput.onSendVerifiCode())},phoneInfo:function(){var e=uni.getSystemInfoSync();b="ios"===e.platform},manageVerifyData:function(e){e===d.queryValidMobile.clearDataType.reChangeMobile&&"changeMobile"===this.type&&this.updateVerifyData({newMobile:"",newValue:""})},onInputChange:function(e,a){var t,n="01";"collect"!==this.fromType&&this.fromType!==d.queryValidMobile.fromTypeValue.changeFail&&this.fromType!==d.queryValidMobile.fromTypeValue.cancelPhone||(n="02"),"mobile"===a?(t=e.detail.value,this.updateVerifyData({newMobile:t,verifyType:n})):(t=e.value,"changeMobile"===this.type?this.updateVerifyData({newValue:t}):this.updateVerifyData({value:t}))},onSubmitOther:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,e.checkVerifyCode();case 3:t=a.sent,t&&(t.isError||"3001"===t.code||"3008"===t.code?u.default.toast(t.message):"1"===t.data.passFlag&&("resetTradePwd"===e.type?("transfer"===e.fromType?u.default.navigateTo("idCard",{subcontract:"A",type:"resetTradePassword",fromType:e.fromType},!0):e.mtype?u.default.navigateTo("resetFront",{type:"resetTradePwd",fromType:d.faceFlags.fromTypeValue.resetTradePassword,subcontract:!0},!0):u.default.navigateTo("idCard",{subcontract:"A",type:"resetTradePassword",fromType:e.fromType,pageFlags:r},!0),e.updatePassword({type:"trade",key:"isVerify",value:!0})):"changeMobileCheck"===e.type&&(u.default.log(t.data.pwdCode),e.updateVerifyData({pwdCode:t.data.pwdCode}),u.default.navigateTo("validMobile",{type:"changeMobile",subcontract:!0},!0)))),e.loading=!1;case 6:case"end":return a.stop()}}),a)})))()},clearVerifyCode:function(){this.$refs.verifyCodeInput.clear()},onVerifySend:function(){this.isSendVerify=!0,this.updateVerifyData({trigger:!0}),this.$track.setData({enroll_smsv_code_count:1})},onSubmit:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var t,n,i,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t=e.type,n=e.verifyData,i=n.value,r=n.newMobile,o=n.newValue,"changeMobile"!==t){a.next=13;break}if((0,c.isMobile)(r)){a.next=6;break}return u.default.alert({content:"请输入正确的手机号"}),a.abrupt("return");case 6:if(6===i.length||6===o.length){a.next=9;break}return u.default.alert({content:"请输入正确的验证码"}),a.abrupt("return");case 9:if(r!==n.oldmobile){a.next=12;break}return u.default.alert({content:"新手机号不能与原手机号相同"}),a.abrupt("return");case 12:e.submitChangeMobile();case 13:case"end":return a.stop()}}),a)})))()},submitChangeMobile:function(){var a=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var n,i,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a,a.type,n=a.verifyData,n.value,i=n.newMobile,n.newValue,a.loading=!0,t.next=6,a.changeMobileSubmit();case 6:r=t.sent,a.updateVerifyData({newValue:""}),a.loading=!1,r&&"1000"===r.code?(e.log("result",r),"1"===r.data.regFlag&&"1"===r.data.cerditFlag?u.default.alert({content:"该手机号已注册，暂不支持更换"}):"1"===r.data.regFlag&&"0"===r.data.cerditFlag?u.default.navigateTo("changeFail",{subcontract:"A",newMobile:i},!0):(a.clearVerifyCode(),a.clearVerifyData(),uni.showToast({title:"手机号更换成功",icon:"none",mask:!0,duration:3e3,success:function(){u.default.logout()}}))):r&&"9355"===r.code?(o=uni.getStorageSync("userInfo").mobile,s=uni.getStorageSync("mobileNum_not_login"),e.log("超时手机号userMobile：",o),e.log("超时手机号unLoginOldMobile：",s),u.default.alert({content:"操作超时，请重试",onSuccess:function(){a.isTencentFace?u.default.navigateBackMPH5():u.default.navigateBack("idCard",{subcontract:"A"})}})):r.message&&u.default.alert({content:r.message});case 10:case"end":return t.stop()}}),t)})))()},handlePageBack:function(){var e=this.verifyData.oldmobile;this.clearVerifyData(),this.updateVerifyData({oldmobile:e}),this.type===d.faceFlags.fromTypeValue.changeMobile?u.default.navigateTo("faceRecordStart",(0,i.default)({subcontract:"A"},d.faceFlags.fromType,d.faceFlags.fromTypeValue.changeMobile),!0):u.default.navigateBackMPH5()}})};a.default=w}).call(this,t("5a52")["default"])},b7f3:function(e,a,t){"use strict";t.r(a);var n=t("b648"),i=t.n(n);for(var r in n)"default"!==r&&function(e){t.d(a,e,(function(){return n[e]}))}(r);a["default"]=i.a},d4d1:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.credit=a.idCard=a.repay=void 0;var n={query:{repayTime:"repayTime",repayAmount:"repayAmount",repayAccount:"repayAccount",repayResult:"repayResult",repayPageFlag:{flagName:"repayPageFlag",flagValue:{repaymentRecord:"repaymentRecord",repayForm:"repayForm"}},repayType:"repayType",paymentSeqNo:"paymentSeqNo"}};a.repay=n;var i={type:"type",fromType:"fromType",typeValue:{changeMobile:"changeMobile"},fromTypeValue:{validMobile:"validMobile"},mobile:"mobile"};a.idCard=i;var r={uploadType:"uploadType",uploadTypeValue:{TAKE_PIC:"TAKE_PIC",SEL_PHO_IMG:"SEL_PHO_IMG"}};a.credit=r},e4f5:function(e,a,t){var n=t("24fb");a=n(!1),a.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.trade-cancle[data-v-9090ba2e]{width:%?32?%;height:%?32?%;position:absolute;right:%?20?%;top:%?20?%}.incorrect[data-v-9090ba2e]:before{content:"\\2716";color:#ccc}.sms-popup-comp[data-v-9090ba2e]{overflow:hidden;z-index:10080;position:relative;width:%?560?%;height:%?320?%;background-color:#fff;border-radius:%?16?%}.sms-popup-comp .sms-content[data-v-9090ba2e]{padding:0 %?38?%;display:flex}.sms-popup-comp .sms-content uni-image[data-v-9090ba2e]{width:%?172?%;height:%?68?%;margin-left:%?16?%}.sms-popup-comp .sms-content uni-input[data-v-9090ba2e]{width:%?266?%;height:%?68?%;line-height:%?68?%;padding-left:%?20?%;border-radius:%?8?%;border:1px solid #eaeaea}.sms-popup-comp .sms-text[data-v-9090ba2e]{text-align:center;color:#e73339;line-height:%?84?%;position:absolute;bottom:0;width:100%;border-top:1px solid #eaeaea}',""]),e.exports=a},f203:function(e,a,t){var n=t("e4f5");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=t("4f06").default;i("6a398fa8",n,!0,{sourceMap:!1,shadowMode:!1})},f81f:function(e,a,t){"use strict";var n=t("4ea4");t("a9e3"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("96cf");var i=n(t("1da1")),r=n(t("5530")),o=t("26cb"),s=t("8e55"),l=(0,o.createNamespacedHelpers)("signIn"),u=l.mapActions,c={data:function(){return{showImageCode:"",smsImageInput:"",PICTURE_URL:s.PICTURE_URL}},props:{showSmsImagePop:{type:Boolean,default:!1},phoneNumber:{type:String,default:""},propsZindex:{type:Number,default:99}},watch:{showSmsImagePop:function(e){e&&(this.getImageSms(),this.open())}},methods:(0,r.default)((0,r.default)({},u(["getImageCode","verifyImageCode"])),{},{closePop:function(){this.initInput(),this.close(),this.$emit("successSms",!1)},getImageSms:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getImageCode({phoneNumber:e.phoneNumber});case 2:t=a.sent,t&&"1000"===t.code&&(e.showImageCode=t.data.imageCode);case 4:case"end":return a.stop()}}),a)})))()},submitSmsImage:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.smsImageInput){a.next=3;break}return e.$utils.toast("请输入验证码"),a.abrupt("return");case 3:return a.next=5,e.verifyImageCode({imageCode:e.smsImageInput,phoneNumber:e.phoneNumber});case 5:t=a.sent,"1000"===(null===t||void 0===t?void 0:t.code)?e.$emit("successSms",t.data):("3037"===(null===t||void 0===t?void 0:t.code)&&e.$utils.toast("验证码已过期"),e.getImageSms(),e.$emit("successSms",!1)),e.close(),e.initInput();case 9:case"end":return a.stop()}}),a)})))()},initInput:function(){this.smsImageInput=""},open:function(){var e=this;this.$nextTick((function(){e.$refs.popupSms.open()}))},close:function(){this.$refs.popupSms.close(),this.initIamge()},initIamge:function(){this.showImageCode=""}})};a.default=c},fe89:function(e,a,t){"use strict";t.r(a);var n=t("61c7"),i=t("a8fc");for(var r in i)"default"!==r&&function(e){t.d(a,e,(function(){return i[e]}))}(r);t("31d2");var o,s=t("f0c5"),l=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"9090ba2e",null,!1,n["a"],o);a["default"]=l.exports}}]);