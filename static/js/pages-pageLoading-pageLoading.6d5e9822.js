(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pageLoading-pageLoading"],{"38aa":function(e,n,t){"use strict";t.r(n);var a=t("4e44"),r=t.n(a);for(var o in a)"default"!==o&&function(e){t.d(n,e,(function(){return a[e]}))}(o);n["default"]=r.a},"4e44":function(e,n,t){"use strict";(function(e){var a=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("ade3"));t("96cf");var o=a(t("1da1")),c=a(t("5530")),i=t("26cb"),u=a(t("0a34")),s=(a(t("eed6")),t("8e55")),p=t("677a"),d=t("ebd0"),f=(0,i.createNamespacedHelpers)("user"),l=f.mapState,g=(0,i.createNamespacedHelpers)("pageLoading"),h=(0,i.createNamespacedHelpers)("signIn"),v=(0,i.createNamespacedHelpers)("home"),y={mixins:[d.appInterMixin],data:function(){return{inventedNo:"",channelNo:"",bank_mp:s.BANK_MP,sourceCode:""}},onLoad:function(n){e.log("pageLoding==query",n);var t=decodeURIComponent(n.data,"UTF-8");if("undefined"!==t){var a=JSON.parse(t);this.inventedNo=a.inventedNo,this.channelNo=a.channelNo,this.sourceCode=a.sourcCode,this.initSceneData(),this.getLoanInfo()}else e.log("没有拿到参数")},computed:(0,c.default)((0,c.default)((0,c.default)({},l({userInfo:function(e){return e.data}})),g.mapState(["appLoanInfo"])),{},{tip:function(){return this.bank_mp,"页面即将跳转"}}),methods:(0,c.default)((0,c.default)((0,c.default)((0,c.default)((0,c.default)({},g.mapActions(["getLoanInfoForApp","checkPersonInfo"])),g.mapMutations(["updateInventedNo"])),h.mapMutations(["updateUserInfo","updateLoginSuccess"])),v.mapActions({userInfoQuery:"getData"})),{},{initSceneData:function(){uni.setStorageSync(p.scene.sceneFlagKey,p.scene.value.EQGO_H5),uni.setStorageSync(p.scene.channelNoKey,this.channelNo),this.sourceCode&&uni.setStorageSync(p.scene.sourceCode,this.sourceCode)},getLoanInfo:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var t,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.getLoanInfoForApp({inventedNo:e.inventedNo});case 2:t=n.sent,t&&t.data&&"1000"===t.code&&(a=t.data,e.dispatchByScene(a));case 4:case"end":return n.stop()}}),n)})))()},dispatchByScene:function(e){var n=uni.getStorageSync(p.scene.sceneFlagKey);n!==p.scene.value.EQGO_MINI_SELF&&n!==p.scene.value.EQGO_H5||this.eQiGoFlow(e)},eQiGoFlow:function(e){var n=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,o,i,u,s,d,f,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=(0,r.default)({},p.sceneQuery.fromPage,p.sceneQuery.fromMap.pageLoading),o=(0,c.default)({mobileNo:e.mobileNo},a),i=e.sceneType,u={sceneType:i,appCertNo:e.appCertNo,appCode:e.appCode,appUserId:e.appUserId},uni.setStorageSync(p.scene.sceneDataKey,u),"1"!==e.loginFlag){t.next=21;break}if(s=uni.getStorageSync("userInfo"),!s||!s.hasOwnProperty("userId")||e.userId!==s.userId){t.next=11;break}n.navigateBySceneType(i,a),t.next=19;break;case 11:if(d={userId:e.userId?e.userId:"",uuid:e.userId?e.userId:"",whiteFlag:"1"},f=n.autoLogin(d),!f){t.next=19;break}return t.next=16,n.getUserInfo({userId:e.userId?e.userId:""});case 16:l=t.sent,n.updateUserInfo({mobile:l.data.mobileNo}),n.navigateBySceneType(i,a);case 19:t.next=22;break;case 21:n.loginOut(o);case 22:case"end":return t.stop()}}),t)})))()},loginOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.default.logout("signInCheck",!1,!1),u.default.navigateTo("signInCheck",(0,c.default)({subcontract:!0},e),!0)},autoLogin:function(e){return u.default.clearLocalData(),this.updateUserInfo(e),this.updateLoginSuccess(!0),!0},getUserInfo:function(e){var n=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.userInfoQuery(e);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()}})};n.default=y}).call(this,t("5a52")["default"])},"866c":function(e,n,t){"use strict";t.r(n);var a=t("8695"),r=t("38aa");for(var o in r)"default"!==o&&function(e){t.d(n,e,(function(){return r[e]}))}(o);t("87dc");var c,i=t("f0c5"),u=Object(i["a"])(r["default"],a["b"],a["c"],!1,null,"3c69e970",null,!1,a["a"],c);n["default"]=u.exports},8695:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return a}));var a={navBar:t("b560").default},r=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("v-uni-view",{},[a("nav-bar",{attrs:{showLeft:!1,title:"跳转"}}),a("v-uni-view",{staticClass:"backg flex-box align-center justify-center"},[a("v-uni-view",{staticClass:"whiteView flex-box align-center justify-center flex-column"},[a("v-uni-image",{staticStyle:{width:"132upx",height:"132upx"},attrs:{src:t("f472")}}),a("v-uni-view",{staticClass:"fs-28",staticStyle:{color:"#333333","margin-top":"40upx"}},[e._v(e._s(e.tip))]),a("v-uni-view",{staticClass:"submit-btn-wrap page-space",staticStyle:{"margin-top":"80upx"}},[a("v-uni-button",{staticClass:"button block-button mb-20 color-red-view",staticStyle:{"border-radius":"47upx",width:"500upx",color:"white"},attrs:{"hover-class":"button-hover",type:"primary","open-type":"launchApp","app-parameter":"wechat"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.onBackToApp.apply(void 0,arguments)},error:function(n){arguments[0]=n=e.$handleEvent(n),e.launchAppError.apply(void 0,arguments)},launchapp:function(n){arguments[0]=n=e.$handleEvent(n),e.launchappSuccess.apply(void 0,arguments)}}},[e._v("取消")])],1)],1)],1)],1)},o=[]},"87dc":function(e,n,t){"use strict";var a=t("a903"),r=t.n(a);r.a},a903:function(e,n,t){var a=t("d2b1");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=t("4f06").default;r("5b6a3058",a,!0,{sourceMap:!1,shadowMode:!1})},d2b1:function(e,n,t){var a=t("24fb");n=a(!1),n.push([e.i,".backg[data-v-3c69e970]{position:fixed;left:0;right:0;top:0;bottom:0;background-color:rgba(0,0,0,.5)}.whiteView[data-v-3c69e970]{margin-top:%?-150?%;width:%?600?%;height:%?540?%;background-color:#fff;border-radius:%?10?%}",""]),e.exports=n},ebd0:function(e,n,t){"use strict";var a=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.appInterMixin=void 0;var r=a(t("0a34")),o=t("677a"),c={data:function(){return{sceneMap:o.scene,currScene:"",currSceneType:"",sceneInfo:"",fromPage:"",wxScene:""}},computed:{toIndexPage:function(){var e=this.currSceneType&&"1"===this.currSceneType;return e},fromMy:function(){return this.fromPage===o.sceneQuery.fromMap.my},openAppLeftNav:function(){var e=r.default.wxSceneMap.appToMiniProgram,n=!this.toIndexPage&&this.wxScene==e,t=n&&!this.fromMy;return t}},onLoad:function(e){e&&(this.fromPage=e[o.sceneQuery.fromPage]);var n=uni.getStorageSync(this.sceneMap.sceneFlagKey);n&&(this.currScene=n);var t=uni.getStorageSync(this.sceneMap.sceneDataKey);t&&(this.currSceneType=t.sceneType,this.sceneInfo=t)},onShow:function(){var e=r.default.getCurrWxScene();this.wxScene=e},methods:{launchAppError:function(e){},launchappSuccess:function(){},updateLocalSceneData:function(){},navigateBySceneType:function(e){"1"===e?uni.switchTab({url:"/pages/index/index"}):"2"===e?uni.reLaunch({url:"/pagesB/loanRecord/loanRecord"}):"3"===e&&uni.reLaunch({url:"/pagesB/repaymentRecord/repaymentRecord"})},clickLeft:function(){"1069"!=this.wxScene?this.currScene===this.sceneMap.value.EQGO_H5?uni.reLaunch({url:"/pages/index/index"}):r.default.navigateBackMPH5():this.toIndexPage||this.fromMy?window.history.back():this.onBackToApp()},onBackToApp:function(){for(var e in o.scene)"value"!==e&&uni.removeStorageSync(o.scene[e])}}};n.appInterMixin=c},f472:function(e,n,t){e.exports=t.p+"static/img/pageloading.05abe82b.gif"}}]);