(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-otherSignIn-otherSignIn"],{"300b":function(e,a,t){"use strict";(function(e){var n=t("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t("ade3"));t("96cf");var r=n(t("1da1")),o=n(t("5530")),s=n(t("0a34")),u=t("26cb"),c=t("4d46"),l=t("8865"),d=t("677a"),f=t("330a"),p=t("ebd0"),g=(0,u.createNamespacedHelpers)("signIn"),m=g.mapState,b=g.mapActions,h=g.mapMutations,v=(0,u.createNamespacedHelpers)("verify"),y=(0,u.createNamespacedHelpers)("home"),I=null,T={mixins:[p.appInterMixin],data:function(){return{img_signInCheck:l.img_signInCheck,busType:"10",verifyDisable:!0,disableSubmit:!0,clearIcon:!1,inputvalue:"",loading:!1,hideTempDate:!1,authTypeTime:!1,smsImage:!1}},computed:(0,o.default)((0,o.default)((0,o.default)({},m(["signInData","data"])),y.mapState(["configData","referCode","referInfoObj","productType"])),{},{appName:function(){return this.configData.productName||""},loginLogo:function(){return this.configData.loginLogo},formatMobile:function(){return s.default.formatMobile(this.signInData.mobileNumber)},pageTrackData:function(){return{page_id:this.$trackParams.pageInfo.login.pageId,page_name:this.$trackParams.pageInfo.login.name,event_code:this.$trackParams.eventCode.sbtLogin,resource_type:this.$trackParams.resourceType.submit,resource_value:this.$trackParams.resourceValue.sbtLogin,eventType:this.$trackParams.eventType.login,login_pwd_incode:"",login_pwd_intime:"",login_method:"2"}},verifyTrackData:function(){return{page_id:this.$trackParams.pageInfo.login.pageId,page_name:this.$trackParams.pageInfo.login.name}}}),onLoad:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.phoneInfo(),e.sceneInfo&&(e.sceneInfo.appCertNo&&e.updateSignInData({appCertNo:e.sceneInfo.appCertNo}),e.sceneInfo.appCode&&e.updateSignInData({appCode:e.sceneInfo.appCode}),e.sceneInfo.appUserId&&e.updateSignInData({appUserId:e.sceneInfo.appUserId}));case 2:case"end":return a.stop()}}),a)})))()},onShow:function(){var e=this;I||!this.hideTempDate||this.authTypeTime||this.$nextTick((function(){e.$refs.mobileVerify.timeOnShow()})),this.signInData.authType&&this.updateSignInData({authType:"",pwdCode:""})},onHide:function(){I||this.authTypeTime||(this.$refs.mobileVerify.timeOnHide(),this.hideTempDate=!0)},methods:(0,o.default)((0,o.default)((0,o.default)((0,o.default)({},b(["doSignIn"])),h(["updateSignInData"])),v.mapMutations(["updateSentinelFlag"])),{},{phoneInfo:function(){var e=uni.getSystemInfoSync();I="ios"===e.platform},onSubmitDebounce:function(){var a=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n,r,u,c,l,d,p,g,m,b,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.loading){t.next=2;break}return t.abrupt("return");case 2:if(a.loading=!0,a.checkReqData()){t.next=6;break}return a.loading=!1,t.abrupt("return");case 6:return t.next=8,s.default.locationCheck();case 8:if(n=t.sent,n){t.next=12;break}return a.loading=!1,t.abrupt("return",!1);case 12:return a.referCode&&a.$track.setData({referCode:a.referCode}),r=uni.getStorageSync("sourceCode")||"",e.log("sourceCode",r),r&&(e.log("1"),a.$track.setData({source_code:r})),u=a.getTrackData(),c=a.getParams(),t.next=20,a.doSignIn((0,o.default)({trackData:u},c));case 20:if(l=t.sent,d=a.$trackParams.login.oneclick_login_otherphone_sucess,!l||"1000"!==l.code||l.data.authType){t.next=27;break}a.$track.setData((p={},(0,i.default)(p,d.name,d.success),(0,i.default)(p,"uuid",a.data.uuid),(0,i.default)(p,"mobile",a.data.mobile),p)),a.loginSuccess(),t.next=50;break;case 27:if(!l||"1000"!==l.code||!l.data.authType){t.next=49;break}a.$track.setData((0,i.default)({},d.name,d.fail)),e.log("登录数据-------",l),"2"===(null===l||void 0===l||null===(g=l.data)||void 0===g?void 0:g.authType)&&(uni.setStorageSync("mobileNum_not_login",a.signInData.mobileNumber),a.saveLoginData((0,o.default)({trackData:u},c))),b=l.data.authType,h="",t.t0=b,t.next="1"===t.t0?36:"2"===t.t0?38:"3"===t.t0?40:"5"===t.t0?42:44;break;case 36:return h="verifySms",t.abrupt("break",44);case 38:return h="faceRecordStart",t.abrupt("break",44);case 40:return h="identity",t.abrupt("break",44);case 42:return h="graphicVerify",t.abrupt("break",44);case 44:s.default.navigateTo(h,(m={type:"login"},(0,i.default)(m,f.faceFlags.fromType,f.faceFlags.fromTypeValue.login),(0,i.default)(m,f.pageObj.pageFlags,f.pageObj.name.otherSignIn),(0,i.default)(m,"subcontract",!0),m)),"2"===b&&(a.authTypeTime=!0,setTimeout((function(){a.$refs.mobileVerify.clearInputData(),a.$refs.mobileVerify.clearTimerNum()}),1e3),a.inputClear()),setTimeout((function(){a.loading=!1}),1e3),t.next=50;break;case 49:l&&"3008"===l.code?(a.$track.setData((0,i.default)({},d.name,d.fail)),s.default.alert({content:l.message}),a.loading=!1):(a.$track.setData((0,i.default)({},d.name,d.fail)),a.loading=!1);case 50:case"end":return t.stop()}}),t)})))()},saveLoginData:function(e){var a=e;a.authType="2",uni.setStorage({key:"loginData",data:(0,o.default)({},a)})},getParams:function(){var e={};this.referInfoObj.referCode&&(this.$track.setData({referCode:this.referInfoObj.referCode}),e.referCode=this.referInfoObj.referCode,e.referName=this.referInfoObj.referName||"");var a=uni.getStorageSync(d.scene.sceneFlagKey);if(a===d.scene.value.HSH_GO_MINI){var t=uni.getStorageSync(d.scene.sceneDataKey);e.sourceCode=t.sourceCode,e.actUserId=t.actUserId,e.actId=t.actId}return this.productType&&(e.productType=this.productType),e},checkReqData:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var t,n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t=e.signInData,n=t.mobileNumber,i=t.isVerifyCode,r=t.verifyCode,(0,c.isMobile)(n)){a.next=4;break}return s.default.toast("手机号非法"),a.abrupt("return",!1);case 4:if(i){a.next=7;break}return s.default.toast("请获取验证码"),a.abrupt("return",!1);case 7:if(""!==r){a.next=10;break}return s.default.toast("请输入验证码"),a.abrupt("return",!1);case 10:if(!(r.length<6)){a.next=13;break}return s.default.toast("请输入正确的验证码"),a.abrupt("return",!1);case 13:return a.abrupt("return",!0);case 14:case"end":return a.stop()}}),a)})))()},getVerify:function(e){var a=this;"1"===e.sendFlag?this.updateSignInData({isVerifyCode:!0}):"5"==(null===e||void 0===e?void 0:e.authType)&&setTimeout((function(){a.smsImage=!0,a.$refs.mobileVerify.clearTimerNum(),a.$refs.mobileVerify.onBlur()}),2e3),this.updateSentinelFlag("")},successSms:function(e){var a=this;setTimeout((function(){a.smsImage=!1}),200),e&&(this.updateSentinelFlag((0,o.default)({},e)),this.$refs.mobileVerify.onGetVerify())},loginSuccess:function(){var a=this;s.default.toast("登录成功","none",!0);var t=uni.getStorageSync(a.sceneMap.sceneFlagKey),n=s.default.getCurrWxScene();e.log("loginSuccess",t,n),setTimeout((function(){if(n==s.default.wxSceneMap.appToMiniProgram&&t===a.sceneMap.value.EQGO_MINI_SELF||t===a.sceneMap.value.EQGO_H5){var i=uni.getStorageSync(a.sceneMap.sceneDataKey);e.log("loginSuccess2",i),a.navigateBySceneType(i.sceneType)}else uni.switchTab({url:"/pages/index/index"})}),800)},inputChange:function(e){var a=e.value;a&&6===a.length?(this.updateSignInData({verifyCode:a}),this.disableSubmit=!1):this.disableSubmit=!0},inputClear:function(){this.disableSubmit=!0,this.updateSignInData({verifyCode:""})}})};a.default=T}).call(this,t("5a52")["default"])},"330a":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.faceTimeTrack=a.replenish=a.activeDetailPages=a.pageObj=a.repayOverdueDetails=a.repaymentDetails=a.identityAuthentication=a.loadingStatic=a.faceFlags=a.queryValidMobile=a.querySubmitSuccess=a.queryWebview=a.querySignInCheck=void 0;var n={mobileNo:"mobileNo",appCertNo:"appCertNo",appCode:"appCode"};a.querySignInCheck=n;var i={src:"src",title:"title"};a.queryWebview=i;var r={pageType:{types:{email:"email",download:"download"},typeName:"pageType"},emailAddress:"emailAddress"};a.querySubmitSuccess=r;var o={query:{type:"type",fromType:"fromType",mtype:"mtype",clearDataType:"clearDataType"},clearDataType:{reChangeMobile:"reChangeMobile",back:"back"},type:{changeMobile:"changeMobile",resetTradePwd:"resetTradePwd"},fromTypeValue:{transfer:"transfer",forget1:"forget1",forget:"forget",collect:"collect",payForPwd:"payForPwd",cancelPhone:"cancelPhone",changeFail:"changeFail"}};a.queryValidMobile=o;var s={fromType:"fromType",fromTypeValue:{credit:"credit",loan:"loan",bindCard:"bindCard",changeMobile:"changeMobile",resetTradePassword:"resetTradePassword",ocr:"ocr",unbindCard:"unbindCard",login:"login"},pageFlagsName:"pageFlagsName",pageFlags:{credit:"credit",faceUploadLoading:"faceUploadLoading"},errorMsgFlags:{ocr:"ocr",three:"three"}};a.faceFlags=s;var u={pageFlags:"pageFlags",name:{otherSignIn:"otherSignIn",signIn:"signIn"}};a.pageObj=u;var c={face_time_h5:"face_time_h5"};a.faceTimeTrack=c;var l={urlName:"urlName",urlNameValue:{index:"index",my:"my"}};a.identityAuthentication=l;var d={process:"process",finish:"finish",fail:"fail",credit_fail:"credit_fail",location_get_fail:"location_get_fail",network_timeout:"network_timeout",identity_info_fail:"identity_info_fail",creditFailThree:"creditFailThree",creditNotFit:"creditNotFit",creditFail:"creditFail"};a.loadingStatic=d;var f={isOverdue:"isOverdue",repaymentDate:"repaymentDate"};a.repaymentDetails=f;var p={loanId:"loanId",TABINDEX:"TABINDEX",loanAmount:"loanAmount",loanDate:"loanDate"};a.repayOverdueDetails=p;var g={fromFlags:"fromFlags",fromValue:{replenishOldUser:"replenishOldUser",replenishNewUser:"replenishNewUser"}};a.replenish=g;var m={bannerIndex:"bannerIndex"};a.activeDetailPages=m},"60c5":function(e,a,t){var n=t("7e82");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=t("4f06").default;i("15abfe96",n,!0,{sourceMap:!1,shadowMode:!1})},6664:function(e,a,t){"use strict";t.r(a);var n=t("bd49"),i=t("b327");for(var r in i)"default"!==r&&function(e){t.d(a,e,(function(){return i[e]}))}(r);t("fb74");var o,s=t("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"252293ed",null,!1,n["a"],o);a["default"]=u.exports},"7e82":function(e,a,t){var n=t("24fb");a=n(!1),a.push([e.i,".container[data-v-252293ed]{background-color:#fff}[data-v-252293ed] .uni-navbar__content{border:0 none!important}.login-top-right[data-v-252293ed]{height:%?334?%;position:fixed;right:0;top:0;z-index:3333;width:%?316?%}.top[data-v-252293ed]{margin-left:%?46?%;margin-top:%?156?%;font-size:%?48?%;font-weight:500;color:#232220}.majority[data-v-252293ed]{margin-top:%?178?%;margin-left:%?46?%}.inputContainer[data-v-252293ed]{position:relative;width:%?658?%}.inputMobile[data-v-252293ed]{height:%?104?%;border-radius:%?53?%;background-color:#f9f9f8;text-align:center;font-size:%?36?%;margin-bottom:%?32?%;color:#333}.clearIcon[data-v-252293ed]{width:%?32?%;height:%?32?%;position:absolute;top:%?36?%;right:%?28?%}.verifyDisable[data-v-252293ed]{width:%?658?%;border-radius:%?53?%;font-size:%?36?%;margin:0}.submit[data-v-252293ed]{width:%?658?%;height:%?92?%;line-height:%?92?%;margin:0;border-radius:%?46?%;margin-top:%?56?%;font-size:%?32?%;background-image:linear-gradient(90deg,#fb6e4d,#f83b2b)}.buttonOpacity[data-v-252293ed]{opacity:.5}",""]),e.exports=a},b327:function(e,a,t){"use strict";t.r(a);var n=t("300b"),i=t.n(n);for(var r in n)"default"!==r&&function(e){t.d(a,e,(function(){return n[e]}))}(r);a["default"]=i.a},bd49:function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){return n}));var n={deviceFingerprint:t("e74d").default,navBar:t("b560").default,mobileVerify:t("91cd").default,smsPopup:t("fe89").default},i=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("v-uni-view",{staticClass:"container"},[n("device-fingerprint"),e.loginLogo?n("v-uni-image",{staticClass:"login-top-right",attrs:{src:e.loginLogo,mode:"aspectFit"}}):e._e(),n("nav-bar"),n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"hello"},[e._v("你好,")]),n("v-uni-view",{staticClass:"welcome"},[e._v("欢迎登录"+e._s(e.appName))])],1),n("v-uni-view",{staticClass:"majority"},[n("v-uni-view",{staticClass:"inputContainer"},[n("v-uni-input",{staticClass:"inputMobile",attrs:{type:"text",maxlength:"11",disabled:"true",value:e.formatMobile,placeholder:"请输入手机号"}}),e.clearIcon?n("v-uni-image",{staticClass:"clearIcon",attrs:{src:t("4c7a")}}):e._e()],1),n("mobile-verify",{ref:"mobileVerify",attrs:{busType:"10",mobile:e.signInData.mobileNumber,showCodeInput:!0,fraudData:e.verifyTrackData},on:{getVerify:function(a){arguments[0]=a=e.$handleEvent(a),e.getVerify.apply(void 0,arguments)},change:function(a){arguments[0]=a=e.$handleEvent(a),e.inputChange.apply(void 0,arguments)},inputClear:function(a){arguments[0]=a=e.$handleEvent(a),e.inputClear.apply(void 0,arguments)}}}),n("v-uni-button",{class:["submit",e.disableSubmit?"buttonOpacity":""],attrs:{type:"warn",loading:e.loading,disabled:e.disableSubmit},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.onSubmitDebounce.apply(void 0,arguments)}}},[e._v("立即登录")])],1),n("sms-popup",{attrs:{propsZindex:3334,showSmsImagePop:e.smsImage},on:{successSms:function(a){arguments[0]=a=e.$handleEvent(a),e.successSms.apply(void 0,arguments)}}})],1)},r=[]},fb74:function(e,a,t){"use strict";var n=t("60c5"),i=t.n(n);i.a}}]);