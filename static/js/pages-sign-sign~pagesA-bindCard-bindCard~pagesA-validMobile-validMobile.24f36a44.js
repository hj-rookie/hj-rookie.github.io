(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sign-sign~pagesA-bindCard-bindCard~pagesA-validMobile-validMobile"],{1410:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i}));var i={clearInput:a("f8e9").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[5===e.verifyType||7===e.verifyType||8===e.verifyType||6===e.verifyType?a("v-uni-view",{staticClass:"form-item lr"},[a("v-uni-view",{staticClass:"label"},[e._v("短信验证码")]),a("v-uni-view",{staticClass:"value text-tl"},[a("v-uni-view",{staticClass:"flex-box align-center justify-end"},[a("v-uni-view",{staticStyle:{width:"240rpx"}},[a("clear-input",{ref:"vref",staticClass:"input-item",attrs:{type:"number",noPositon:!0,styles:"width:300rpx",value:e.verifyCode,maxlength:e.maxlength,placeholder:"输入短信验证码",focus:e.verifyCodeFocus,placeholderClass:"input-placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputBlur.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputFocus.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputVerifyCode.apply(void 0,arguments)}}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.codeLoading,expression:"codeLoading"}],staticClass:"text-tr",staticStyle:{width:"236rpx"}},[a("v-uni-text",{staticClass:"color-gray"},[e._v(e._s(e.codeButtonText))])],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.codeLoading,expression:"!codeLoading"}],staticClass:"text-tr",staticStyle:{width:"236rpx"},attrs:{"hover-class":"view-hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onSendVerifiCode.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"color-blue"},[e._v("获取验证码")])],1)],1)],1)],1):3===e.verifyType?a("v-uni-view",{staticClass:"form-item lr"},[a("v-uni-view",{staticClass:"label"},[e._v("短信验证码")]),a("v-uni-view",{staticClass:"value text-tl",staticStyle:{width:"75%"}},[a("v-uni-view",{staticClass:"flex-box align-center justify-end"},[a("v-uni-view",{staticClass:"flex-box justify-end",staticStyle:{width:"240rpx"}},[a("clear-input",{ref:"vref",staticClass:"input-item",attrs:{type:"number",classs:"text-tr",noPositon:!0,styles:"width:300rpx",value:e.verifyCode,maxlength:e.maxlength,placeholder:"输入短信验证码",focus:e.verifyCodeFocus,placeholderClass:"input-placeholder text-tr"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputBlur.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputFocus.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputVerifyCode.apply(void 0,arguments)}}})],1),3===e.verifyType?a("v-uni-view",{staticClass:"centrer-border"}):e._e(),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.codeLoading,expression:"codeLoading"}],staticClass:"text-tr",staticStyle:{width:"236rpx","margin-left":"28rpx"}},[a("v-uni-text",{staticClass:"color-gray fs-30"},[e._v(e._s(e.codeButtonText))])],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.codeLoading,expression:"!codeLoading"}],staticClass:"text-tr",staticStyle:{width:"236rpx","margin-left":"-56rpx"},attrs:{"hover-class":"view-hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onSendVerifiCode.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"color-blue fs-30"},[e._v("获取验证码")])],1)],1)],1)],1):a("v-uni-view",{staticClass:"form-item",class:e.externalClasses},[3!==e.verifyType?a("v-uni-view",{staticClass:"form-icon"},[a("v-uni-image",{attrs:{mode:"widthFix",src:e.PICTURE_URL+"reg-message.png"}})],1):a("v-uni-view",{staticStyle:{width:"180upx"}},[e._v("短信验证码")]),a("v-uni-view",[a("clear-input",{ref:"vref",attrs:{type:"number",noPositon:!0,styles:3!==e.verifyType?"width:300rpx":"width:200rpx",value:e.verifyCode,maxlength:e.maxlength,placeholder:3!==e.verifyType?"输入短信验证码":"请输入验证码",focus:e.verifyCodeFocus,iid:"vf",placeholderClass:"input-placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputBlur.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputFocus.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputVerifyCode.apply(void 0,arguments)}}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.codeLoading,expression:"codeLoading"}],staticClass:"right-item"},[a("v-uni-text",{staticClass:"color-gray"},[e._v(e._s(e.codeButtonText))])],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.codeLoading,expression:"!codeLoading"}],staticClass:"right-item",attrs:{"hover-class":"view-hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onSendVerifiCode.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"color-blue"},[e._v("获取验证码")])],1)],1)],1)},s=[]},"1eca":function(e,t,a){var i=a("b22f");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("25845ff4",i,!0,{sourceMap:!1,shadowMode:!1})},6594:function(e,t,a){"use strict";a.r(t);var i=a("1410"),n=a("dce3");for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("cccd");var r,o=a("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"321fbf85",null,!1,i["a"],r);t["default"]=u.exports},"6fe4":function(e,t,a){"use strict";(function(e){var i=a("4ea4");a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("ade3"));a("96cf");var s,r=i(a("1da1")),o=i(a("5530")),u=a("26cb"),c=i(a("0a34")),d=i(a("eed6")),l=i(a("4d46")),f=i(a("a341")),v=a("8e55"),p=(0,u.createNamespacedHelpers)("verify"),h={data:function(){return{PICTURE_URL:v.PICTURE_URL,verifyCode:"",verifyCodeFocus:!1,codeLoading:!1,codeSecond:90,vf:!1,focus:!0,showTempDate:"",hideTempDate:""}},props:{mobile:String,cardNo:String,bankCode:String,bankName:String,externalClasses:String,trackId:String,maxlength:{type:String,default:"6"},verifyType:{type:Number,default:0},isShowX:{type:Number,default:0},isSend:{type:Boolean,default:!1},pageId:{type:String,default:""},pageName:{type:String,default:""}},computed:(0,o.default)((0,o.default)({},p.mapState(["sentinelFlag"])),{},{codeButtonText:function(){var e=this.codeSecond;return e<90?e+"s后重新获取":"90s后重新获取"}}),methods:{onBlur:function(){this.verifyCodeFocus=!1},onInputVerifyCode:function(e){var t=this.trackId,a=e.detail.value;this.verifyCode=a,this.$emit("change",{value:a,trackId:t})},getTrackData:function(){return{eventType:"07",resource_uri:"form_setpassw"}},onInputFocus:function(e){this.verifyCodeFocus=!0;this.trackId,e.detail.value;this.$emit("focus",e);var t=e.currentTarget.dataset.iid;this[t]=!0},onInputBlur:function(e){this.trackId,e.detail.value;this.$emit("blur",e);var t=e.currentTarget.dataset.iid;this[t]=!1},onHiddenKyboard:function(){uni.hideKeyboard()},onSendVerifiCode:function(){var e=this.mobile,t=this.verifyType,a=this.cardNo,i=this.bankCode,n=this.bankName;if(this.$track.setData({event_code:this.$trackParams.eventCode.clickAuthCode,resource_value:this.$trackParams.resourceValue.clickAuthCode,resource_type:this.$trackParams.resourceType.click}),c.default.log(e),l.default.isMobile(e))if(this.codeLoading=!0,this.verifyCode="",this.codeTimeout(),this.$emit("send"),3===t){if(!i||""===i)return void c.default.toast("请检查银行卡号");if(!n||""===n)return void c.default.toast("请检查银行卡号");this.sendVerifyCodeBank(e,t,a,i,n)}else this.sendVerifyCode(e,t);else c.default.toast("请输入正确的手机号")},sendVerifyCodeBank:function(e,t,a,i,n){var s=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var r,u,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=s.getVrifyData(e),t.next=3,f.default.getDeviceToken();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0="";case 6:return u=t.t0,r.device_token=u,c={},s.sentinelFlag&&(c.pwdCode=s.sentinelFlag.pwdCode,c.authType="5"),t.prev=10,t.next=13,d.default.post("bankCardService/sendAgreeVerifyCode",{data:(0,o.default)({busType:1,signMobileNo:e,bankCode:i,bankName:n,cardNo:a,fraudContent:JSON.stringify(r),effectTime:300},c)});case 13:l=t.sent,l&&"1000"===l.code?(l.data.authType&&"5"===l.data.authType||s.showSendSuccessTip(e),s.$emit("sendSms",l.data)):s.codeLoading=!1,t.next=20;break;case 17:t.prev=17,t.t1=t["catch"](10),s.codeLoading=!1;case 20:case"end":return t.stop()}}),t,null,[[10,17]])})))()},showSendSuccessTip:function(e){c.default.toast("验证码已发送至".concat(c.default.formatMobile(e)))},getVrifyData:function(t){var a=this.$track.getVrifyData(),i=(0,o.default)((0,o.default)({},a),{org_id:"12345",eventType:"07",mobile:t,page_id:this.pageId,page_name:this.pageName});return i.event_code="click_auth_code",i.resource_value="click_auth_code",i.resource_type="click",e.log("!!! 动码",i),i},sendVerifyCode:function(e,t){var a=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var s,r,u,c,l,v,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.$track.setData((0,n.default)({},a.$trackParams.smsCode.enroll_smsv_code_count,1)),s=a.getVrifyData(e),r=uni.getStorageSync("userInfo"),i.next=5,f.default.getDeviceToken();case 5:if(i.t0=i.sent,i.t0){i.next=8;break}i.t0="";case 8:return u=i.t0,c={id_number:r.idNumber?r.idNumber:"",device_token:u},l=JSON.stringify((0,o.default)((0,o.default)({},s),c)),v={},a.sentinelFlag&&(v.pwdCode=a.sentinelFlag.pwdCode,v.authType="5"),i.prev=13,i.next=16,d.default.post("systemService/verifyCodeSend",{data:(0,o.default)({busType:t,mobileNo:e,fraudContent:l,effectTime:300},v)});case 16:p=i.sent,p&&p.data&&"1"===p.data.sendFlag?a.showSendSuccessTip(a.mobile):a.codeLoading=!1,p&&p.data&&"0"===p.data.sendFlag&&a.$emit("sendSms",p.data),i.next=24;break;case 21:i.prev=21,i.t1=i["catch"](13),a.codeLoading=!1;case 24:case"end":return i.stop()}}),i,null,[[13,21]])})))()},setTimeoutFn:function(e){var t=this;this.intval=setTimeout((function(){e-=1,e>0?(t.codeSecond=e,t.setTimeoutFn(e)):(t.codeLoading=!1,t.clearTimer())}),1e3)},codeTimeout:function(){var e=this.codeSecond;e&&this.clearTimer(),this.setTimeoutFn(e)},clearTimer:function(){this.codeSecond=90,clearTimeout(this.intval),this.intval=null},clear:function(){var e=this.trackId;this.verifyCode="",this.codeSecond=90,this.codeLoading=!1,this.$emit("change",{trackId:e,value:""})},onClearVtext:function(){this.verifyCode=""},timeOnShow:function(){this.showTempDate=(new Date).getTime();var e=Math.ceil((this.showTempDate-this.hideTempDate)/1e3);clearTimeout(this.intval),this.intval=null,this.setTimeoutFn(s-e)},timeOnHide:function(){s=this.codeSecond,this.hideTempDate=(new Date).getTime()}}};t.default=h}).call(this,a("5a52")["default"])},b22f:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".centrer-border[data-v-321fbf85]{width:%?2?%;height:%?48?%;background:#d6d6d6;margin-left:%?28?%}.ml-28[data-v-321fbf85]{margin-left:%?-28?%}",""]),e.exports=t},ba8d:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"flex-box flex_row align-center",staticStyle:{position:"relative"}},[a("v-uni-input",{class:e.classs,style:e.styles,attrs:{type:e.type,disabled:e.isDisabled,"data-iid":e.iid,maxlength:e.maxlength,placeholder:e.placeholder,value:e.value,"placeholder-style":e.placeholderStyle,"placeholder-class":e.placeholderClass,"cursor-spacing":e.cursorSpacing,spellcheck:"false",focus:e.focus},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.focuss.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.blur.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInputChange.apply(void 0,arguments)}}}),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.showX,expression:"showX"}],staticClass:"right-item",staticStyle:{"z-index":"999"},style:{position:e.noPositon||"true"===e.right?"relative":"absolute"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClearMobile.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"icon"},[a("v-uni-image",{staticClass:"clear-btn",attrs:{src:e.PICTURE_URL+"close.png"}})],1)],1)],1)},s=[]},cccd:function(e,t,a){"use strict";var i=a("1eca"),n=a.n(i);n.a},dce3:function(e,t,a){"use strict";a.r(t);var i=a("6fe4"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},e7ae:function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("8e55"),n={data:function(){return{isShowLayer:!1,isFocus:!1,PICTURE_URL:i.PICTURE_URL}},props:{cursorSpacing:{type:Number,default:18},type:{type:String,default:"text"},classs:{type:String,default:""},dataBind:{type:String,default:""},dataType:{type:String,default:""},maxlength:{type:String,default:"20"},styles:{type:String,default:""},placeholder:{type:String,default:""},value:{type:String,default:""},placeholderClass:{type:String,default:""},placeholderStyle:{type:String,default:""},right:{type:String,default:"false"},iid:{type:String,default:""},focus:{type:Boolean,default:!1},noPositon:{type:Boolean,default:!1},externalClasses:{type:String,default:""},isDisabled:{type:Boolean,default:!1}},watch:{value:function(e){}},beforeDestroy:function(){clearTimeout(this.timer),this.timer=null,clearTimeout(this.timerT),this.timerT=null},computed:{showX:function(){return!(""===this.value||!this.isFocus)||(""===this.value||this.isFocus,!1)}},methods:{onInputChange:function(e){this.dataBind&&(e.currentTarget.dataset[this.dataBind]=this.dataType),this.$emit("input",e)},focuss:function(e){var t=this;this.dataBind&&(e.currentTarget={},e.currentTarget.dataset={},e.currentTarget.dataset[this.dataBind]=this.dataType),this.timerT=setTimeout((function(){t.isFocus=!0,t.$emit("focus",e)}),200)},blur:function(e){var t=this;this.timerT=setTimeout((function(){t.dataBind&&(e.currentTarget={},e.currentTarget.dataset={},e.currentTarget.dataset[t.dataBind]=t.dataType),t.$emit("blur",e),t.isFocus=!1}),200)},onClearMobile:function(){var e=this,t={detail:{}};t.detail.value="",this.dataBind&&(t.currentTarget={},t.currentTarget.dataset={},t.currentTarget.dataset[this.dataBind]=this.dataType),this.timer=setTimeout((function(){e.$emit("input",t)}),200)}}};t.default=n},e8ee:function(e,t,a){"use strict";a.r(t);var i=a("e7ae"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},f8e9:function(e,t,a){"use strict";a.r(t);var i=a("ba8d"),n=a("e8ee");for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);var r,o=a("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"6cb2451b",null,!1,i["a"],r);t["default"]=u.exports}}]);