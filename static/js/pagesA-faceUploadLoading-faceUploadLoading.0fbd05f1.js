(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-faceUploadLoading-faceUploadLoading"],{"0da5":function(e,t,a){"use strict";var n=a("ef9c"),i=a.n(n);i.a},"18a4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"device-fingerprint"};t.default=n},"2b3a":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticStyle:{position:"fixed",top:"9999rpx"}},[a("v-uni-canvas",{staticStyle:{width:"150"},attrs:{"canvas-id":"turing-canvas"}}),a("v-uni-canvas",{staticStyle:{height:"100px"},attrs:{id:"turing-render-webgl",type:"webgl"}})],1)},r=[]},"330a":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.faceTimeTrack=t.replenish=t.activeDetailPages=t.pageObj=t.repayOverdueDetails=t.repaymentDetails=t.identityAuthentication=t.loadingStatic=t.faceFlags=t.queryValidMobile=t.querySubmitSuccess=t.queryWebview=t.querySignInCheck=void 0;var n={mobileNo:"mobileNo",appCertNo:"appCertNo",appCode:"appCode"};t.querySignInCheck=n;var i={src:"src",title:"title"};t.queryWebview=i;var r={pageType:{types:{email:"email",download:"download"},typeName:"pageType"},emailAddress:"emailAddress"};t.querySubmitSuccess=r;var o={query:{type:"type",fromType:"fromType",mtype:"mtype",clearDataType:"clearDataType"},clearDataType:{reChangeMobile:"reChangeMobile",back:"back"},type:{changeMobile:"changeMobile",resetTradePwd:"resetTradePwd"},fromTypeValue:{transfer:"transfer",forget1:"forget1",forget:"forget",collect:"collect",payForPwd:"payForPwd",cancelPhone:"cancelPhone",changeFail:"changeFail"}};t.queryValidMobile=o;var s={fromType:"fromType",fromTypeValue:{credit:"credit",loan:"loan",bindCard:"bindCard",changeMobile:"changeMobile",resetTradePassword:"resetTradePassword",ocr:"ocr",unbindCard:"unbindCard",login:"login"},pageFlagsName:"pageFlagsName",pageFlags:{credit:"credit",faceUploadLoading:"faceUploadLoading"},errorMsgFlags:{ocr:"ocr",three:"three"}};t.faceFlags=s;var c={pageFlags:"pageFlags",name:{otherSignIn:"otherSignIn",signIn:"signIn"}};t.pageObj=c;var l={face_time_h5:"face_time_h5"};t.faceTimeTrack=l;var u={urlName:"urlName",urlNameValue:{index:"index",my:"my"}};t.identityAuthentication=u;var d={process:"process",finish:"finish",fail:"fail",credit_fail:"credit_fail",location_get_fail:"location_get_fail",network_timeout:"network_timeout",identity_info_fail:"identity_info_fail",creditFailThree:"creditFailThree",creditNotFit:"creditNotFit",creditFail:"creditFail"};t.loadingStatic=d;var f={isOverdue:"isOverdue",repaymentDate:"repaymentDate"};t.repaymentDetails=f;var p={loanId:"loanId",TABINDEX:"TABINDEX",loanAmount:"loanAmount",loanDate:"loanDate"};t.repayOverdueDetails=p;var g={fromFlags:"fromFlags",fromValue:{replenishOldUser:"replenishOldUser",replenishNewUser:"replenishNewUser"}};t.replenish=g;var m={bannerIndex:"bannerIndex"};t.activeDetailPages=m},"5b1f":function(e,t,a){"use strict";a.r(t);var n=a("f33b"),i=a("76d6");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("0da5");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"3f1ab512",null,!1,n["a"],o);t["default"]=c.exports},"76d6":function(e,t,a){"use strict";a.r(t);var n=a("d90d"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},9051:function(e,t,a){"use strict";a.r(t);var n=a("18a4"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},b53b:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.cont[data-v-3f1ab512]{background-color:#000d20;width:100%;height:calc(100vh - 64px)!important}.cont1[data-v-3f1ab512]{background-color:#000d20;width:100%;height:100vh!important}.imageView[data-v-3f1ab512]{width:%?476?%;height:%?476?%;margin-top:%?-420?%}.nono[data-v-3f1ab512]{animation-play-state:paused!important;\r\n  /* -webkit-animation： none！important; */-webkit-animation:none!important;-webkit-animation-play-state:paused!important\r\n  /* background-color: #007AFF; */}.circle[data-v-3f1ab512]{\r\n  /* 这里一定要绝对定位，这样位置才能铺开来 */position:absolute;top:50%;left:50%;width:%?476?%;height:%?476?%;margin-left:%?-238?%;margin-top:%?-238?%;-webkit-animation:true-data-v-3f1ab512 2s ease-in-out infinite;animation:true-data-v-3f1ab512 2s ease-in-out infinite;-webkit-animation-direction:alternate;animation-direction:alternate\r\n  /* animation-delay:1s; */}.circle1[data-v-3f1ab512]{\r\n  /* 这里一定要绝对定位，这样位置才能铺开来 */position:absolute;top:50%;left:50%;width:%?414?%;height:%?414?%;margin-left:%?-206?%;margin-top:%?-206?%;-webkit-animation:tt-data-v-3f1ab512 2s ease-in-out infinite;animation:tt-data-v-3f1ab512 2s ease-in-out infinite;-webkit-animation-direction:alternate;animation-direction:alternate\r\n  /* animation-delay:1s; */}.circle2[data-v-3f1ab512]{\r\n  /* 这里一定要绝对定位，这样位置才能铺开来 */position:absolute;top:50%;left:50%;width:%?384?%;height:%?384?%;margin-left:%?-192?%;margin-top:%?-192?%}.line-scan[data-v-3f1ab512]{position:absolute;top:50%;width:%?562?%;height:%?64?%;-webkit-animation:move-data-v-3f1ab512 4s linear infinite;animation:move-data-v-3f1ab512 4s linear infinite\r\n  /* animation-direction: alternate; */}.sucess[data-v-3f1ab512]{position:absolute;top:70%;left:70%;width:%?124?%;height:%?124?%}.fail[data-v-3f1ab512]{position:absolute;top:70%;left:70%;width:%?124?%;height:%?124?%}.image[data-v-3f1ab512]{width:%?476?%;height:%?476?%}@-webkit-keyframes true-data-v-3f1ab512{0%{-webkit-transform:rotate(0deg)}10%{-webkit-transform:rotate(0deg)}\r\n  /* 50% {\r\n\t\t\t-webkit-transform: rotate(180deg);\r\n\t\t} */90%{-webkit-transform:rotate(1turn)}100%{-webkit-transform:rotate(1turn)}}@keyframes true-data-v-3f1ab512{0%{-webkit-transform:rotate(0deg)}10%{-webkit-transform:rotate(0deg)}\r\n  /* 50% {\r\n\t\t\t-webkit-transform: rotate(180deg);\r\n\t\t} */90%{-webkit-transform:rotate(1turn)}100%{-webkit-transform:rotate(1turn)}}@-webkit-keyframes tt-data-v-3f1ab512{0%{-webkit-transform:rotate(0deg)}10%{-webkit-transform:rotate(0deg)}\r\n  /* 50% {\r\n\t\t\t-webkit-transform: rotate(-180deg);\r\n\t\t} */90%{-webkit-transform:rotate(-1turn)}100%{-webkit-transform:rotate(-1turn)}}@keyframes tt-data-v-3f1ab512{0%{-webkit-transform:rotate(0deg)}10%{-webkit-transform:rotate(0deg)}\r\n  /* 50% {\r\n\t\t\t-webkit-transform: rotate(-180deg);\r\n\t\t} */90%{-webkit-transform:rotate(-1turn)}100%{-webkit-transform:rotate(-1turn)}}@-webkit-keyframes move-data-v-3f1ab512{0%{-webkit-transform:translateX(0) translateY(%?0?%)}25%{-webkit-transform:translateX(0) translateY(%?-200?%)}50%{-webkit-transform:translateX(0) translateY(%?0?%)}75%{-webkit-transform:translateX(0) translateY(%?200?%)}100%{-webkit-transform:translateX(0) translateY(%?0?%)}}@keyframes move-data-v-3f1ab512{0%{-webkit-transform:translateX(0) translateY(%?0?%)}25%{-webkit-transform:translateX(0) translateY(%?-200?%)}50%{-webkit-transform:translateX(0) translateY(%?0?%)}75%{-webkit-transform:translateX(0) translateY(%?200?%)}100%{-webkit-transform:translateX(0) translateY(%?0?%)}}',""]),e.exports=t},d90d:function(e,t,a){"use strict";(function(e){var n=a("4ea4");a("99af"),a("fb6a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ade3"));a("96cf");var r=n(a("1da1")),o=n(a("5530")),s=a("26cb"),c=a("330a"),l=a("f49f"),u=n(a("0a34")),d=a("8e55"),f=n(a("e410")),p=n(a("a341")),g=(0,s.createNamespacedHelpers)("factor"),m=(0,s.createNamespacedHelpers)("result"),v=(0,s.createNamespacedHelpers)("verify"),b=(0,s.createNamespacedHelpers)("loan"),h=(0,s.createNamespacedHelpers)("card"),y=(0,s.createNamespacedHelpers)("signIn"),w=(0,s.createNamespacedHelpers)("home"),F="",T={data:function(){return{msg:"",PICTURE_URL:d.PICTURE_URL,loadingStatic:c.loadingStatic,state:c.loadingStatic.process}},computed:(0,o.default)((0,o.default)((0,o.default)((0,o.default)({},g.mapState(["faceFromFlags","lifeData","pageFromS","creditData"])),h.mapGetters(["defaultGetCard"])),w.mapState(["productType"])),{},{homeData:function(){return this.$store.getters.homeData()}}),watch:{},onLoad:function(t){e.log("参数---------",t,this.faceFromFlags),t.pageFromS||"",t.type||"",this.faceVerify(),F=t[c.faceTimeTrack.face_time_h5]},onUnload:function(){clearTimeout(this.timeBack),this.timeBack=null,clearTimeout(this.failTimer),this.failTimer=null,clearInterval(this.timer),this.timer=null},onHide:function(){},onShow:function(){},methods:(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},g.mapActions(["creditApply","lipBiopsyCheck","faceCheck"])),g.mapMutations(["clearChangeMobileInfo"])),h.mapActions(["doBindCard","bankCardUnBind","bindOtherCard"])),h.mapMutations(["clearBindCardData","updateBindCardData"])),b.mapActions(["loanApply"])),m.mapMutations(["update"])),v.mapActions(["noticeAuthCheck"])),v.mapMutations(["updateVerifyData"])),y.mapActions(["doSignIn"])),y.mapMutations(["updateSignInData"])),{},{anitfraudPointParams:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,n,i,r,s,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$track.getVrifyData(),n=wx.getStorageSync("userInfo"),i={event_code:"biopsy",eventType:"10",mobile:n.mobile,uuid:n.uuid?n.uuid:"",page_id:"biossay",page_name:"活体检测",face_recognition_camera_direction:"0",face_recognition_time:F},i.event_code="sbt_bioassay",i.resource_value="sbt_bioassay",i.resource_type="submit",r=uni.getStorageSync("mobileNum_not_login"),r&&(i.mobile=r),s=(0,o.default)((0,o.default)({},a),i),c=e.postEventPointFaceSource(e.faceFromFlags),s.face_recognition_source=c.face_recognition_source,t.next=13,p.default.getDeviceToken();case 13:if(t.t0=t.sent,t.t0){t.next=16;break}t.t0="";case 16:return l=t.t0,s.device_token=l,u={fraudContent:JSON.stringify(s)},u.busType=c.busType,t.abrupt("return",u);case 21:case"end":return t.stop()}}),t)})))()},postEventPointFaceSource:function(e){switch(e){case c.faceFlags.fromTypeValue.loan:return{face_recognition_source:"1",busType:"01"};case c.faceFlags.fromTypeValue.bindCard:return{face_recognition_source:"2",busType:"02"};case c.faceFlags.fromTypeValue.unbindCard:return{face_recognition_source:"",busType:"03"};case c.faceFlags.fromTypeValue.credit:return{face_recognition_source:"0",busType:""};case c.faceFlags.fromTypeValue.changeMobile:return{face_recognition_source:"3",busType:"05"};case c.faceFlags.fromTypeValue.resetTradePassword:return{face_recognition_source:"4",busType:"06"};case c.faceFlags.fromTypeValue.login:return{face_recognition_source:"5",busType:"07"};default:return{face_recognition_source:"",busType:""}}},upDateData:function(e,t){this[e]=t},faceVerify:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.anitfraudPointParams();case 2:return a=t.sent,n=uni.getStorageSync("mobileNum_not_login"),n&&(a.mobileNo=n),t.next=7,e.lipBiopsyCheck(a);case 7:i=t.sent,e.$track.clearExtendData(!0),i&&"1000"===i.code?(e.$track.setData({resource_value:"finish_vidio"}),e.doSuccess(i)):e.doFail();case 10:case"end":return t.stop()}}),t)})))()},doSuccess:function(e){var t=this;this.faceFromFlags===c.faceFlags.fromTypeValue.credit?f.default.getLocation((function(e){t.doCredit()}),(function(){t.upDateData("state",c.loadingStatic.location_get_fail),u.default.navigateTo("faceRecordStart",(0,i.default)({subcontract:"A"},c.faceFlags.fromType,t.faceFromFlags),!0)}),!1,!0):this.faceFromFlags===c.faceFlags.fromTypeValue.loan?this.postLoanData(e):this.faceFromFlags===c.faceFlags.fromTypeValue.unbindCard?this.postunbindData(e):this.faceFromFlags===c.faceFlags.fromTypeValue.bindCard?this.postbindData(e):this.faceFromFlags===c.faceFlags.fromTypeValue.changeMobile?this.updateMobile(e):this.faceFromFlags===c.faceFlags.fromTypeValue.resetTradePassword?this.doNoticeAuthCheck(e):this.faceFromFlags===c.faceFlags.fromTypeValue.login&&this.toLogin(e)},doFail:function(e){var t=this;if(this.upDateData("state",c.loadingStatic.fail),this.faceFromFlags!==c.faceFlags.fromTypeValue.loan){if(this.faceFromFlags===c.faceFlags.fromTypeValue.bindCard)return this.update({type:"loan",title:"绑卡失败",backPage:"index",redirect:"index",result:"cancel",desc:"",isFromRepay:"bindCard"}),void(this.timer=setTimeout((function(){u.default.navigateTo("result",{isFromRepay:"bindCard",title:"绑卡失败",pageFromS:t.pageFromS},!0),clearInterval(t.timer),t.timer=null}),2e3));if(this.faceFromFlags===c.faceFlags.fromTypeValue.unbindCard)return this.update({type:"",title:"解绑卡失败",backPage:"index",redirect:"index",result:"cancel",desc:"",icon:""}),void(this.timer=setTimeout((function(){u.default.navigateTo("result",{isFromRepay:"unbindCard",title:"解绑卡失败",type:"unbind"},!0),clearInterval(t.timer),t.timer=null}),2e3));if(this.faceFromFlags===c.faceFlags.fromTypeValue.login){var a={signIn:"signIn",otherSignIn:"otherSignIn"};this.timer=setTimeout((function(){u.default.navigateBack(a[t.pageFromS]),clearInterval(t.timer),t.timer=null}),1500)}else this.failBack()}else this.timer=setTimeout((function(){u.default.navigateTo("failLoanResult",{subcontract:"B"},!0),clearInterval(t.timer),t.timer=null}),2e3)},toLogin:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.updateSignInData({pwdCode:e.data.pwdCode}),n=uni.getStorageSync("loginData"),a.next=4,t.doSignIn((0,o.default)((0,o.default)({},n),{},{disableAlert:!0}));case 4:i=a.sent,i&&i.data&&"1000"===i.code?(t.upDateData("state",c.loadingStatic.finish),t.timer=setTimeout((function(){u.default.navigateTo("index","tabBar"),clearInterval(t.timer),t.timer=null}),1e3),uni.removeStorageSync("loginData")):(t.upDateData("state",c.loadingStatic.fail),r={signIn:"signIn",otherSignIn:"otherSignIn"},t.timer=setTimeout((function(){u.default.navigateBack(r[t.pageFromS]),clearInterval(t.timer),t.timer=null}),1500));case 6:case"end":return a.stop()}}),a)})))()},postLoanData:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n,r,o,s,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=uni.getStorageSync("loanData"),n.pwdCode=e.data.pwdCode,a.next=4,t.loanApply(n);case 4:r=a.sent,n=1*n.amount,o={loanState:""},s=t.defaultGetCard.cardNo.slice(-4),d="",r&&"1"===r.data.resultFlag?(t.upDateData("state",c.loadingStatic.finish),t.$track.dataPost({resource_type:"submit",resource_value:"sbt_loan",event_result:"success"}),o.loanState="0"):(t.upDateData("state",c.loadingStatic.fail),t.$track.dataPost({resource_type:"submit",resource_value:"sbt_loan",event_result:"fail"}),d="失败"),t.timer=setTimeout((function(){var e;r&&r.data?u.default.navigateTo("loanResult",(e={subcontract:"B"},(0,i.default)(e,l.newLoan.query.loanTime,r.data.applyTime||""),(0,i.default)(e,l.newLoan.query.loanAmount,"".concat(n.toFixed(2),"元")),(0,i.default)(e,l.newLoan.query.loanAccount,"".concat(t.defaultGetCard.bankName," 尾号(").concat(s,")")),(0,i.default)(e,l.newLoan.query.loanResult,d),(0,i.default)(e,"params",JSON.stringify(o)),e),!0):u.default.navigateTo("failLoanResult",{subcontract:"B"},!0);clearInterval(t.timer),t.timer=null}),1e3);case 11:case"end":return a.stop()}}),a)})))()},updateMobile:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.changeMobileFaceCheck(e.data);case 2:n=a.sent,n?(t.upDateData("state",c.loadingStatic.finish),t.timer=setTimeout((function(){var e;u.default.navigateTo("validMobile",(e={subcontract:"A"},(0,i.default)(e,c.faceFlags.fromType,"collect"),(0,i.default)(e,"type",c.faceFlags.fromTypeValue.changeMobile),e),!0)}),2e3),t.clearChangeMobileInfo()):(t.upDateData("state",c.loadingStatic.fail),t.failBack());case 4:case"end":return a.stop()}}),a)})))()},getApiParams:function(){var e={};return this.productType&&(e.productType=this.productType),"2"===this.productType&&"2"===this.homeData.limitFlag&&(e.regSeq=this.homeData.extRegSeq||this.creditData.regSeq),e},doCredit:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,n,i,r,s,l,d,f,p,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=uni.getStorageSync("locationData"),!a){t.next=10;break}return n=a.location,i=a.address_component,r=a.address,s=a.formatted_addresses,l=(0,o.default)({position_y:n.lat,position_x:n.lng,province:i.province,city:i.city,district:i.district,addressDetail:r,addressDescribe:s.recommend},e.getApiParams()),t.next=6,e.creditApply(l);case 6:d=t.sent,d&&"1000"===d.code?(e.upDateData("state",c.loadingStatic.finish),f=d.data.busState,p={0:"creditSuccess",1:"cpfFund",2:"socialSafe"},g={subcontract:"A"},"0"!==f&&f?(g.fromType="collect",e.timer=setTimeout((function(){u.default.navigateTo(p[f],(0,o.default)({},g),!0)}),1800)):e.timer=setTimeout((function(){u.default.navigateTo(p["0"],(0,o.default)({},g),!0),clearInterval(e.timer),e.timer=null}),1800),e.$track.clearExtendData()):e.doCreditFail(d),t.next=11;break;case 10:u.default.alert({content:"无位置信息"});case 11:e.$track.clearData();case 12:case"end":return t.stop()}}),t)})))()},doCreditFail:function(t){var a=this;e.log("授信失败返回结果-----",t),t&&"8011"===t.code?(this.upDateData("state",c.loadingStatic.fail),u.default.alert({content:"您已连续活体检测失败3次，请重新提交身份证信息",onSuccess:function(){u.default.navigateTo("credit",(0,i.default)({subcontract:"A"},c.faceFlags.pageFlagsName,c.faceFlags.pageFlags.faceUploadLoading),!0),a.$track.setData({resource_value:"credit"})}})):!t||"请求超时"!==t&&"5004"!==t.code?t&&"9315"===t.code?(this.upDateData("state",c.loadingStatic.identity_info_fail),this.timer=setTimeout((function(){u.default.navigateTo("credit",(0,i.default)({subcontract:"A"},c.faceFlags.pageFlagsName,c.faceFlags.pageFlags.faceUploadLoading),!0),clearInterval(a.timer),a.timer=null}),5e3)):t&&"2087"===t.code?(this.upDateData("state",c.loadingStatic.credit_fail),u.default.alert({content:"您已连续失败3次，请联系客服或等待30分钟后重试",onSuccess:function(){u.default.navigateTo("faceRecordStart",(0,i.default)({subcontract:"A"},c.faceFlags.fromType,a.faceFromFlags),!0)}})):(this.upDateData("state",c.loadingStatic.credit_fail),this.failBack()):(this.upDateData("state",c.loadingStatic.network_timeout),this.failBack())},changeMobileFaceCheck:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.pwdCode&&t.updateVerifyData({pwdCode:e.pwdCode}),n={faceImage:e.faceImage},i=uni.getStorageSync("mobileNum_not_login"),i&&(n.mobileNo=i),a.next=6,t.faceCheck(n);case 6:if(r=a.sent,!r||"1000"!==r.code){a.next=10;break}if("1"!==r.data.suggestion){a.next=10;break}return a.abrupt("return",!0);case 10:return a.abrupt("return",!1);case 11:case"end":return a.stop()}}),a)})))()},postbindData:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=uni.getStorageSync("bindData"),n.pwdCode=e.data.pwdCode,n.isPost=!0,a.next=5,t.doBindCard(n);case 5:if(r=a.sent,!r||"1"!==r.data.resultFlag){a.next=10;break}"0"===n.isOwnerCard?t.postOtherCardData():(t.upDateData("state",c.loadingStatic.finish),o=uni.getStorageSync("bindType"),"bind"===o?"1"===t.homeData.passFlag&&"frist"===n.isFirstBind?t.timer=setTimeout((function(){u.default.navigateTo("newLoan",{subcontract:"B",type:"passW"},!0)}),1800):t.timer=setTimeout((function(){u.default.navigateTo("setTradeWord",(0,i.default)({subcontract:"A",from:"sign"},c.faceFlags.pageFlagsName,c.faceFlags.pageFlags.faceUploadLoading),!0)}),1800):u.default.navigateBack("myCard"),t.clearBindCardData()),a.next=17;break;case 10:if("请求超时"!==r){a.next=13;break}return u.default.alert({content:"请求超时,请重试",onSuccess:function(){u.default.navigateBack("myCard")}}),a.abrupt("return");case 13:t.upDateData("state",c.loadingStatic.fail),t.update({type:"loan",title:"绑卡失败",backPage:"index",redirect:"index",result:"cancel",desc:"",isFromRepay:"bindCard"}),t.timer=setTimeout((function(){u.default.navigateTo("result",{isFromRepay:"bindCard",title:"绑卡失败",pageFromS:t.pageFromS},!0)}),2e3),t.clearBindCardData();case 17:case"end":return a.stop()}}),a)})))()},postOtherCardData:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=uni.getStorageSync("bindData"),t.next=3,e.bindOtherCard(a);case 3:n=t.sent,"1000"===n.code?(e.updateBindCardData({url:n.url,flowNo:n.flowNo}),u.default.navigateTo("thirdParty",{subcontract:"A",url:n.url,type:"bind"},!0)):u.default.alert({content:n.message});case 5:case"end":return t.stop()}}),t)})))()},postunbindData:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=uni.getStorageSync("unbindData"),n.pwdCode=e.data.pwdCode,a.next=4,t.bankCardUnBind(n);case 4:i=a.sent,i&&"1"===i.data.resultFlag?(t.upDateData("state",c.loadingStatic.finish),t.timer=setTimeout((function(){u.default.navigateBack("myCard")}),2e3)):(t.upDateData("state",c.loadingStatic.fail),t.update({type:"",title:"解绑卡失败",backPage:"index",redirect:"index",result:"cancel",desc:"",icon:""}),t.timer=setTimeout((function(){u.default.navigateTo("result",{isFromRepay:"unbindCard",title:"解绑卡失败",type:"unbind"},!0)}),2e3));case 6:case"end":return a.stop()}}),a)})))()},doNoticeAuthCheck:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.noticeAuthCheck();case 2:a=t.sent,a&&"1000"===a.code?(e.upDateData("state",c.loadingStatic.finish),e.timer=setTimeout((function(){var t;u.default.navigateTo("passwordReset",(t={subcontract:"A",type:"tradePwd"},(0,i.default)(t,c.faceFlags.fromType,c.faceFlags.fromTypeValue.resetTradePassword),(0,i.default)(t,"pwdType","forTradePwd"),(0,i.default)(t,"pageFlags",e.pageFromS),t),!0)}),2e3)):(e.upDateData("state",c.loadingStatic.fail),e.failBack());case 4:case"end":return t.stop()}}),t)})))()},failBack:function(){var t=this;e.log("失败返回-----",this.faceFromFlags),this.failTimer=setTimeout((function(){u.default.navigateTo("faceRecordStart",(0,i.default)({subcontract:"A"},c.faceFlags.fromType,t.faceFromFlags),!0)}),2e3)},onPageBack:function(){this.state!==c.loadingStatic.identity_info_fail&&u.default.navigateTo("faceRecordStart",(0,i.default)({subcontract:"A"},c.faceFlags.fromType,this.faceFromFlags),!0)}})};t.default=T}).call(this,a("5a52")["default"])},e74d:function(e,t,a){"use strict";a.r(t);var n=a("2b3a"),i=a("9051");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);var o,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"e353cce6",null,!1,n["a"],o);t["default"]=c.exports},ef9c:function(e,t,a){var n=a("b53b");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("1620b62e",n,!0,{sourceMap:!1,shadowMode:!1})},f33b:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var n={deviceFingerprint:a("e74d").default,navBar:a("b560").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("device-fingerprint"),a("nav-bar",{attrs:{customLeftEvent:!0,title:"人脸识别"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.onPageBack.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"flex-box flex-column align-center justify-center",class:e.isCheckWX?"cont1":"cont"},[a("v-uni-view",{staticClass:"imageView flex-box align-center justify-center",staticStyle:{position:"relative"}},[a("v-uni-image",{staticClass:"circle",class:e.state!==e.loadingStatic.process?"nono":"",attrs:{mode:"widthFix",src:e.PICTURE_URL+"quan01@2x.png"}}),a("v-uni-image",{staticClass:"circle1 ",class:e.state!==e.loadingStatic.process?"nono":"",attrs:{mode:"widthFix",src:e.PICTURE_URL+"quan02@2x.png"}}),a("v-uni-image",{staticClass:"circle2",attrs:{mode:"widthFix",src:e.PICTURE_URL+"person02@2x.png"}}),e.state===e.loadingStatic.process?a("v-uni-image",{staticClass:"line-scan ",class:e.state!==e.loadingStatic.process?"nono":"",attrs:{mode:"widthFix",src:e.PICTURE_URL+"sys@2x.png"}}):e._e(),e.state===e.loadingStatic.finish?a("v-uni-image",{staticClass:"sucess",attrs:{mode:"widthFix",src:e.PICTURE_URL+"cg@2x.png"}}):e._e(),e.state!==e.loadingStatic.finish&&e.state!==e.loadingStatic.process?a("v-uni-image",{staticClass:"fail",attrs:{mode:"widthFix",src:e.PICTURE_URL+"ht_sb@2x.png"}}):e._e()],1),e.msg&&"页面更新"!=e.msg?[a("v-uni-view",{staticClass:"animated pulse ddd",staticStyle:{"font-size":"34upx",color:"white","margin-top":"120upx"}},[e._v(e._s(e.msg))])]:[e.state===e.loadingStatic.process?a("v-uni-view",{staticClass:"animated pulse ddd",staticStyle:{"font-size":"34upx",color:"white","margin-top":"120upx"}},[e._v("识别中...")]):e._e(),e.state===e.loadingStatic.finish?a("v-uni-view",{staticClass:"animated pulse ddd",staticStyle:{"font-size":"34upx",color:"white","margin-top":"120upx"}},[e._v("已完成人脸识别")]):e._e(),e.state===e.loadingStatic.fail?a("v-uni-view",{staticClass:"animated pulse ddd",staticStyle:{"font-size":"34upx",color:"white","margin-top":"120upx"}},[e._v("人脸识别失败")]):e._e(),e.state===e.loadingStatic.credit_fail?a("v-uni-view",{staticClass:"animated pulse ddd",staticStyle:{"font-size":"34upx",color:"white","margin-top":"120upx"}},[e._v("授信失败，请核实身份信息后重试")]):e._e(),e.state===e.loadingStatic.location_get_fail?a("v-uni-view",{staticClass:"animated pulse ddd",staticStyle:{"font-size":"34upx",color:"white","margin-top":"120upx"}},[e._v("定位信息获取失败,请检查定位是否开启")]):e._e(),e.state===e.loadingStatic.network_timeout?a("v-uni-view",{staticClass:"animated pulse ddd",staticStyle:{"font-size":"34upx",color:"white","margin-top":"120upx"}},[e._v("网络超时请重试")]):e._e(),e.state===e.loadingStatic.identity_info_fail?a("v-uni-view",{staticClass:"animated pulse ddd",staticStyle:{"font-size":"34upx",color:"white","margin-top":"120upx"}},[e._v("身份信息有误，请重新上传身份证")]):e._e()]],2)],1)},r=[]},f49f:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repay=t.loanDetail=t.newLoan=void 0;var n={query:{loanTime:"loanTime",loanAmount:"loanAmount",loanAccount:"loanAccount",loanResult:"loanResult",orderId:"orderId",loanType:"loanType",loanPageFlag:{flagName:"loanPageFlag",flagValue:{loanRecord:"loanRecord"}}}};t.newLoan=n;var i={query:{orderId:"orderId",loanType:"loanType"}};t.loanDetail=i;var r={query:{repayTime:"repayTime",repayAmount:"repayAmount",repayAccount:"repayAccount",repayResult:"repayResult",repayPageFlag:{flagName:"repayPageFlag",flagValue:{repaymentRecord:"repaymentRecord"}},repayType:"repayType",paymentSeqNo:"paymentSeqNo"}};t.repay=r}}]);