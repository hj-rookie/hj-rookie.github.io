(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-myCard-myCard"],{"238f":function(a,e,t){"use strict";var n=t("7887"),i=t.n(n);i.a},"330a":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.faceTimeTrack=e.replenish=e.activeDetailPages=e.pageObj=e.repayOverdueDetails=e.repaymentDetails=e.identityAuthentication=e.loadingStatic=e.faceFlags=e.queryValidMobile=e.querySubmitSuccess=e.queryWebview=e.querySignInCheck=void 0;var n={mobileNo:"mobileNo",appCertNo:"appCertNo",appCode:"appCode"};e.querySignInCheck=n;var i={src:"src",title:"title"};e.queryWebview=i;var o={pageType:{types:{email:"email",download:"download"},typeName:"pageType"},emailAddress:"emailAddress"};e.querySubmitSuccess=o;var r={query:{type:"type",fromType:"fromType",mtype:"mtype",clearDataType:"clearDataType"},clearDataType:{reChangeMobile:"reChangeMobile",back:"back"},type:{changeMobile:"changeMobile",resetTradePwd:"resetTradePwd"},fromTypeValue:{transfer:"transfer",forget1:"forget1",forget:"forget",collect:"collect",payForPwd:"payForPwd",cancelPhone:"cancelPhone",changeFail:"changeFail"}};e.queryValidMobile=r;var c={fromType:"fromType",fromTypeValue:{credit:"credit",loan:"loan",bindCard:"bindCard",changeMobile:"changeMobile",resetTradePassword:"resetTradePassword",ocr:"ocr",unbindCard:"unbindCard",login:"login"},pageFlagsName:"pageFlagsName",pageFlags:{credit:"credit",faceUploadLoading:"faceUploadLoading"},errorMsgFlags:{ocr:"ocr",three:"three"}};e.faceFlags=c;var s={pageFlags:"pageFlags",name:{otherSignIn:"otherSignIn",signIn:"signIn"}};e.pageObj=s;var l={face_time_h5:"face_time_h5"};e.faceTimeTrack=l;var d={urlName:"urlName",urlNameValue:{index:"index",my:"my"}};e.identityAuthentication=d;var u={process:"process",finish:"finish",fail:"fail",credit_fail:"credit_fail",location_get_fail:"location_get_fail",network_timeout:"network_timeout",identity_info_fail:"identity_info_fail",creditFailThree:"creditFailThree",creditNotFit:"creditNotFit",creditFail:"creditFail"};e.loadingStatic=u;var g={isOverdue:"isOverdue",repaymentDate:"repaymentDate"};e.repaymentDetails=g;var p={loanId:"loanId",TABINDEX:"TABINDEX",loanAmount:"loanAmount",loanDate:"loanDate"};e.repayOverdueDetails=p;var _={fromFlags:"fromFlags",fromValue:{replenishOldUser:"replenishOldUser",replenishNewUser:"replenishNewUser"}};e.replenish=_;var f={bannerIndex:"bannerIndex"};e.activeDetailPages=f},"446a":function(a,e,t){var n=t("24fb");e=n(!1),e.push([a.i,".box-showdow[data-v-47866a33]{box-shadow:0 2px 10px 0 rgba(230,41,32,.41)}.bind-card-container[data-v-47866a33]{padding:%?40?%;background-color:#fff}.relieve-btn[data-v-47866a33]{margin-left:%?16?%}.relieve-btn uni-view[data-v-47866a33]{color:#007aff;padding:0 %?16?%}.card-item[data-v-47866a33]:last-child{margin-bottom:0}.ml-35[data-v-47866a33]{margin-left:%?35?%}.mt-32[data-v-47866a33]{margin-top:%?32?%}.mt-10[data-v-47866a33]{margin-top:%?10?%}.ml-80[data-v-47866a33]{margin-left:%?80?%}.right-arrow[data-v-47866a33]{margin-top:%?2?%}.seeButton[data-v-47866a33]{color:#fff;display:flex;position:absolute;bottom:%?20?%;right:%?20?%;z-index:10}",""]),a.exports=e},"4b17":function(a,e,t){"use strict";t.r(e);var n=t("5b8d"),i=t.n(n);for(var o in n)"default"!==o&&function(a){t.d(e,a,(function(){return n[a]}))}(o);e["default"]=i.a},"5b8d":function(a,e,t){"use strict";(function(a){var n=t("4ea4");t("4de4"),t("7db0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(t("ade3"));t("96cf");var o=n(t("1da1")),r=n(t("5530")),c=t("26cb"),s=n(t("7d4c")),l=n(t("0a34")),d=t("8865"),u=t("330a"),g=(0,c.createNamespacedHelpers)("card"),p=g.mapState,_=g.mapGetters,f=g.mapActions,m=g.mapMutations,v=(0,c.createNamespacedHelpers)("target"),h=(0,c.createNamespacedHelpers)("result"),b={data:function(){return{rightArrow:d.rightArrow,loading:!0}},computed:(0,r.default)((0,r.default)((0,r.default)({},p({bankCard:"myBankCardData"})),_(["getElBankInfo","defaultPayCard"])),{},{homeData:function(){return this.$store.getters.homeData()},isCanBindCard:function(){var a=this.homeData,e=a.addrFlag,t=a.limitFlag;return"2"===t&&"1"===e},getBankcardList:function(){return this.bankCard.filter((function(a){return"0"!==a.cardType}))||[]},isElh:function(){return this.getElBankInfo&&"undefined"!==typeof this.getElBankInfo&&this.getElBankInfo.bankName},isOnlyTnBank:function(){var a=[];return s.default.find(this.getBankcardList,(function(e){"1"===e.ownerFlag&&a.push(e)})),1===a.length},pageTrackData:function(){return{page_id:this.$trackParams.pageInfo.myCard.pageId,page_name:this.$trackParams.pageInfo.myCard.name}}}),onLoad:function(a){1*a.isNavIndex,uni.$on("unbind",this.unbind),l.default.log("8888888"+this.getElBankInfo.length==0)},onShow:function(){this.getMyCard()},onUnload:function(){this.clearBindCardData(),uni.$off("unbind",this.unbind)},methods:(0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)({},f(["bankCardUnBind","queryBindingBankList"])),v.mapMutations(["updateTargetData"])),h.mapMutations(["update"])),m(["clearBindCardData"])),{},{onSee:function(){uni.navigateTo({url:"../../pages/account/card"})},onRelieveCard:function(e){var t=this;uni.showActionSheet({itemList:["解除绑定"],success:function(a){"Y"===e.defaultPay?l.default.alert({content:"该卡为还款日默认扣款卡，如需解绑，请先更换默认扣款卡"}):"1"===e.ownerFlag&&t.isOnlyTnBank?l.default.alert({content:"该卡为唯一".concat(e.bankName,"卡，不支持解绑")}):l.default.navigateTo("validPassword",{type:"trade",fromType:"unbindCard",cardNo:e.cardNo,subcontract:!0})},fail:function(e){a.log(e.errMsg)}})},unbind:function(a){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var n,o,c,s,d,g,p,_,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"请稍候..."}),n=e.getTrackData(),o=wx.getStorageSync("homeData"),c={org_id:"12345",eventType:e.$trackParams.eventType.unBind,mobile:o.mobileNo,id_number:o.certNo?o.certNo:"",name:o.name?o.name:""},c.event_code=e.$trackParams.eventCode.clickUnfreezing,c.resource_value=e.$trackParams.resourceValue.clickUnfreezing,c.resource_type="click",s=(0,r.default)((0,r.default)({},n),c),d={fraudContent:JSON.stringify(s),cardNo:a.cardNo},t.next=11,e.bankCardUnBind(d);case 11:if(g=t.sent,!g||"1000"!==g.code||"1"!==g.data.resultFlag){t.next=18;break}return t.next=15,e.getMyCard();case 15:uni.$emit("success",{type:"unbindcard"}),t.next=19;break;case 18:g&&"1000"===g.code&&"1"!==g.data.resultFlag?(p=g.unbindData,p.authType=g.data.authType,uni.setStorage({key:"unbindData",data:p}),_=g.data.authType,"2"===_&&(f=e.$store.getters.homeData(),"1"===f.biopsyType||"3"===f.biopsyType?l.default.navigateTo("faceRecordStart",(0,i.default)({subcontract:"A"},u.faceFlags.fromType,u.faceFlags.fromTypeValue.unbindCard),!0):l.default.navigateTo("newCollet",{type:"unbindCard",fromType:"unbindCard",subcontract:!0},!0))):g.data&&"2092"===g.code?l.default.alert({content:g?g.message:"",onSuccess:function(a){a.confirm&&(e.update({type:"loan",title:"解绑卡失败",backPage:"index",redirect:"index",result:"cancel",desc:"解绑卡失败",icon:""}),l.default.navigateTo("result",{isFromRepay:"unbindCard",title:"解绑卡失败"},!0))}}):l.default.alert({content:"服务繁忙"});case 19:uni.hideLoading();case 20:case"end":return t.stop()}}),t)})))()},onPageBack:function(){uni.switchTab({url:"../../pages/my/my"})},onBindCard:function(a,e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var n,i,o,r,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,l.default.checkNetwork();case 2:if(n=a.sent,n){a.next=5;break}return a.abrupt("return");case 5:i=t.homeData,o=i.limitFlag,r=i.passFlag,"2"!==o&&(c="当前状态还不能绑卡"),c?l.default.alert({content:c}):"change"===e?(t.updateTargetData({validTradePassword:{from:"myCard",to:"bindCard",args:{type:e}}}),l.default.navigateTo("validPassword",{type:"trade",subcontract:!0})):"0"===r?l.default.navigateTo("setTradeWord",{subcontract:!0,from:"mycard"}):l.default.navigateTo("bindCard",{subcontract:!0,type:"bind",typeT:"userBind",fromType:"userBind",pageFromS:"tradePasswordSet"});case 8:case"end":return a.stop()}}),a)})))()},toDefaultBindCardPage:function(){uni.navigateTo({url:"../../pagesA/payCard/payCard"})},getMyCard:function(){var a=this;return(0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.queryBindingBankList();case 2:e.sent,a.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}})};e.default=b}).call(this,t("5a52")["default"])},7887:function(a,e,t){var n=t("446a");"string"===typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);var i=t("4f06").default;i("7661853e",n,!0,{sourceMap:!1,shadowMode:!1})},8865:function(a,e,t){"use strict";var n=t("8e55"),i="".concat(n.PICTURE_URL,"close.png"),o=("".concat(n.PICTURE_URL,"close_loan.png"),"../../static/img/home/"),r="".concat(o,"home_gl_bg.png"),c="".concat(o,"home_icon_gl.png"),s="".concat(o,"home_icon_gg.png"),l="".concat(o,"home_icon_sbyy.png"),d="".concat(o,"home_img_fpxz.png"),u="".concat(o,"home_img_jkgl.png"),g="".concat(o,"home_img_xhed.png"),p="".concat(o,"home_shsb_icon_sbyy.png"),_="".concat(o,"home_tc_top_fxts.png"),f="".concat(o,"home_top_img_shsb.png"),m="".concat(o,"home_top_img_shz.png"),v="".concat(o,"home_img_hkgl.png"),h="".concat(o,"home_yyq.png"),b="".concat(o,"hk_about.png"),y="".concat(o,"jqqd_img_wkf.png"),k="".concat(o,"jml_tc_btn.png"),w="".concat(o,"jml_tc_img.png"),C="".concat(o,"tc_close.png"),T="".concat(o,"gjj_icon_dwmc.png"),x="".concat(o,"gjj_icon_sbjcs.png"),j="".concat(o,"jg_img_spz.png"),N="".concat(o,"process.png"),P="".concat(o,"fail.png"),B="".concat(o,"bd_icon_dz.png"),I="".concat(o,"bdyhk_icon_yz.png"),D="".concat(o,"card_camera.png"),F="".concat(n.PICTURE_URL,"backspace.png"),U="".concat(n.PICTURE_URL,"right-arrow.png"),R="".concat(n.PICTURE_URL,"bottom-arrow.png"),E="".concat(n.PICTURE_URL,"search.png"),S="".concat(n.PICTURE_URL,"select.png"),L=("".concat(n.PICTURE_URL,"wxz@2x.png"),"../../static/img/other/"),q="".concat(L,"jkgl_top_bg.png"),z="".concat(L,"jkgl_top_img_jb.png"),M="".concat(L,"loan_01.png"),A="".concat(L,"loan_02.png"),$="".concat(L,"jkgl_icon_sfrz.png"),O="".concat(L,"jkgl_icon_rlsb.png"),V="".concat(L,"jkgl_icon_fksh.png"),H="".concat(L,"jkgl_icon_jksq.png"),J="".concat(L,"jkgl_icon_jkdz.png"),W="".concat(L,"hkgl_top_bg.png"),X="".concat(L,"top_img_pig.png"),G="".concat(L,"wyjk_fs2_img01.png"),Y="".concat(L,"hkgl_bz_icon_q.png"),K="".concat(L,"wyjk_fs1_img02.png"),Q="".concat(L,"wyjk_fs1_img03.png"),Z="".concat(L,"wyjk_fs1_img04.png"),aa="../../static/img/tempimg/",ea="".concat(n.PICTURE_URL,"process.png"),ta="".concat(n.PICTURE_URL,"fail.png"),na={login_top_right:"".concat(aa,"login_top_right.png"),clear_icon:"".concat(aa,"clear_icon.png")},ia="../../static/img/none/",oa="".concat(ia,"tc_icon_mkf@2x.png");a.exports={fail:P,search:E,loan_01:M,loan_02:A,process:N,tc_close:C,home_yyq:h,hk_about:b,backspace:F,top_img_pig:X,rightArrow:U,bd_icon_dz:B,result_fail:ta,jg_img_spz:j,jml_tc_btn:k,jml_tc_img:w,home_gl_bg:r,jkgl_top_bg:q,hkgl_top_bg:W,card_camera:D,bottomArrow:R,mycd_select:S,record_auth:oa,jqqd_img_wkf:y,home_icon_gl:c,home_icon_gg:s,hkgl_bz_icon_q:Y,bdyhk_icon_yz:I,gjj_icon_dwmc:T,home_img_hkgl:v,home_img_fpxz:d,home_img_jkgl:u,home_img_xhed:g,wyjk_fs2_img01:G,wyjk_fs1_img02:K,wyjk_fs1_img03:Q,result_process:ea,wyjk_fs1_img04:Z,jkgl_icon_sfrz:$,jkgl_icon_jksq:H,jkgl_icon_jkdz:J,jkgl_icon_rlsb:O,jkgl_icon_fksh:V,gjj_icon_sbjcs:x,home_icon_sbyy:l,jkgl_top_img_jb:z,home_top_img_shz:m,home_tc_top_fxts:_,home_top_img_shsb:f,home_shsb_icon_sbyy:p,img_signInCheck:na,close:i}},c433:function(a,e,t){"use strict";t.r(e);var n=t("ce0c"),i=t("4b17");for(var o in i)"default"!==o&&function(a){t.d(e,a,(function(){return i[a]}))}(o);t("238f");var r,c=t("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"47866a33",null,!1,n["a"],r);e["default"]=s.exports},ce0c:function(a,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return n}));var n={navBar:t("b560").default},i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-uni-view",{staticClass:"container"},[t("nav-bar",{attrs:{title:"我的银行卡"},on:{clickLeft:function(e){arguments[0]=e=a.$handleEvent(e),a.onPageBack.apply(void 0,arguments)}}}),a.loading?t("v-uni-view",{staticClass:"loading-wrap"},[t("v-uni-view",{staticClass:"loading-box"},[t("v-uni-view",{staticClass:"loading icon-timer"})],1)],1):a.bankCard&&a.bankCard.length?[t("v-uni-view",{staticStyle:{padding:"0 40rpx"}},[a.isElh?t("v-uni-view",{staticClass:"card-item e two-item box-showdow"},[t("v-uni-view",{staticClass:"card-title flex-box align-center"},[t("v-uni-view",{staticClass:"fs-32 fm-szs color-white"},[t("v-uni-text",[a._v(a._s(a.getElBankInfo.bankName||""))]),t("v-uni-text",{staticClass:"fs-24"},[a._v("(二类户)")])],1),t("v-uni-view",{staticStyle:{"margin-left":"32upx"}},[t("v-uni-view",{staticClass:"tip small cor color-white",staticStyle:{color:"white"}},[a._v("不限额")])],1)],1),t("v-uni-view",{staticClass:"card-number color-white ml-80"},[t("v-uni-text",[a._v("**** **** **** "+a._s(a._f("getLast4Num")(a.getElBankInfo.cardNo)))])],1),t("v-uni-view",{staticClass:"seeButton",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.onSee.apply(void 0,arguments)}}},[a._v("查询")])],1):a._e(),a._l(a.getBankcardList,(function(e){return t("v-uni-view",{key:e.cardNo,staticClass:"card-item two-item box-showdow mt-80",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.onRelieveCard(e)}}},[t("v-uni-view",{staticClass:"card-title flex-box align-center"},[t("v-uni-view",{staticClass:"card-logo mr-16"},[t("v-uni-image",{attrs:{src:a._f("getBase64Image")(e.logoUrl)}})],1),t("v-uni-view",{staticClass:"fs-32 color-white"},[t("v-uni-text",[a._v(a._s(e.bankName))])],1)],1),t("v-uni-view",{staticClass:"card-number color-white ml-80"},[t("v-uni-text",[a._v("**** **** **** "+a._s(a._f("getLast4Num")(e.cardNo)))])],1)],1)}))],2),t("v-uni-view",{staticClass:"fs-28 color-gray ml-35 mt-40"},[a._v("设置默认扣款银行卡")]),a.defaultPayCard?t("v-uni-view",[t("v-uni-view",{staticClass:"form-control lr mb-20 mt-10"},[t("v-uni-view",{staticClass:"form-item"},[t("v-uni-view",{staticClass:"label fs-28"},[a._v("还款日扣款")]),t("v-uni-view",{staticClass:"select"},[t("v-uni-view",{staticClass:"input-item",attrs:{"hover-class":"view-hover"},on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.toDefaultBindCardPage.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"flex-box align-center justify-end"},[t("v-uni-text",{staticClass:"fs-28"},[a._v(a._s(a.defaultPayCard.bankName||"")+" 尾号("+a._s(a._f("getLast4Num")(a.defaultPayCard.cardNo))+")")]),t("v-uni-image",{staticClass:"right-arrow",attrs:{src:a.rightArrow}})],1)],1)],1)],1)],1),t("v-uni-view",{staticClass:"fs-24 color-red ml-35"},[a._v("还款日将从该卡扣除当月应还金额")])],1):a._e(),t("v-uni-view",{staticClass:"bind-card-container",staticStyle:{"background-color":"transparent","margin-top":"72rpx"}},[t("v-uni-button",{staticClass:"button block-button button-can",attrs:{"hover-class":"button-hover",disabled:!a.isCanBindCard},on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.onBindCard(e,"bind")}}},[a._v("添加银行卡")])],1)]:t("v-uni-view",{staticClass:"bind-card-container",staticStyle:{"background-color":"transparent"}},[t("v-uni-button",{staticClass:"button block-button",attrs:{"hover-class":"button-hover",disabled:!a.isCanBindCard},on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.onBindCard(e,"bind")}}},[a._v("添加银行卡")])],1)],2)},o=[]}}]);